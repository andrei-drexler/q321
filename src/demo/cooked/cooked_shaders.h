#pragma once

// auto-generated, do not modify
static_assert(0xdc0f8a20U == Demo::Shader::Version, "Shader definition mismatch, please recompile the shader compiler & shaders");

// src/demo/data/shaders/fragment_shaders.glsl: 80638 => 32964 (40.9%)
static constexpr char g_fragment_shaders[] =
"#define d vec2\n"
"#define h float\n"
"#define k vec3\n"
"#define l return\n"
"#define o mix\n"
"#define v abs\n"
"#define F vec4\n"
"#define G fract\n"
"#define N length\n"
"#define O void\n"
"#define P min\n"
"#define Q max\n"
"#define R UV\n"
"#define U Time\n"
"#define V if\n"
"#define Z int\n"
"#define ae xyz\n"
"#define af Texture0\n"
"#define aj floor\n"
"#define ak texture\n"
"#define a0 sqrt\n"
"#define aE normalize\n"
"#define b6(x)((x)*(x)*(3.-2.*(x)))\n"
"#define E(x)((x)*(x))\n"
"#define aX(x)dot(x,x)\n"
"#define Y(x)clamp(x,0.,1.)\n"
"#define n(r,g,b)(k(r,g,b)/255.)\n"
"#define a7(u)i(.5,.5,u)\n"
"#define I(a9)k a9(d);O a9(){K=F(a9(R),1);}k a9(d c)\n"
"#define al(a9)F a9(d);O a9(){K=a9(R);}F a9(d c)\n"
"#define bj(cb,c,cc){d p[3];h r[3];p[0]=c;p[1]=c+dFdx(c);p[2]=c+dFdy(c);for(Z m=0;m<3;++m)r[m]=cc;cb=k(cd(d(r[1],r[2])-r[0]),r[0]);}\n"
"#define b7(a9,ce)k a9(d p,d b8){p*=b8;d B=aj(p),T=p-B,b9,g,ad,r;h aY=8.,bk=aY,f;for(Z m=0;m<9;++m){g=d(m%3-1,m/3-1);ad=cf(mod(B+g,b8));r=g+ad-T;f=ce;V(f<aY){bk=aY;aY=f;b9=r;}else V(f<bk){bk=f;}}l k(b9,bk-aY);}\n"
"uniform F U,Cam;uniform sampler2D af,Texture1;in k Pos,Nor,WNor,Ref;in d R,LUV;in F Clr;out F K;h aH=3.1415927,bA=2.*aH,aZ=1.618034;d bB(h m){h bv=1.324718;l G(.5+m/d(bv,bv*bv));}h aI(h m){l G(.5+m*aZ);}h cg(h T){h m=aj(T);l o(aI(m),aI(m+1.),b6(T-m));}h bl(d u){l P(u.x,u.y);}h bl(k u){l P(u.x,P(u.y,u.z));}h bl(F u){l P(P(u.x,u.y),P(u.z,u.w));}h aJ(d u){l Q(u.x,u.y);}h aJ(k u){l Q(u.x,Q(u.y,u.z));}h aJ(F u){l Q(Q(u.x,u.y),Q(u.z,u.w));}h aN(d u){l u.x+u.y;}h aN(k u){l u.x+u.y+u.z;}h bC(h a,h b){l v(a)<v(b)?a:b;}h bc(h x,h s){l v(x)-s;}h b0(h x,h s){l sign(x)*Q(0.,v(x)-s);}d cd(d u){h A=dot(u,u);l A>0.?u/a0(A):u;}h i(h ch,h ci,h x){l 1.-Y(v(x-ch)/ci);}h j(h bD,h cj,h x){l Y((x-bD)/(cj-bD));}h i(h a,h b,h e,h x){l P(j(a,b,x),j(e,b,x));}d am(h x){l d(sin(x),cos(x));}mat2 ah(h x){d u=am(radians(x));l mat2(u.y,u.x,-u.x,u.y);}h aO(d p){l G(atan(p.y,p.x)/bA);}d bm(d p,h B){l p*ah(360./B*(aj(aO(p)*B+1.5)-1.));}d ac(d c,h p,h s){l c+sin(c.yx*aH*p)*s;}d ac(d c,h t,h p,h s){l c+sin(c.yx*aH*p+t)*s;}h bn(h u,h C){l C-v(u-C);}d bn(d u,h C){u.x=bn(u.x,C);l u;}h ck(h x,h p,h A,h S){l x-p*clamp(aj(x/p+.5),A,S);}d bE(d c,d s){c.x+=aj(c.y*s.y)*(.5/s.x);l G(c)*s;}k bF(d c,h r){l k(c-=clamp(c,r,1.-r),N(c)/r);}k bF(d c,d s,h r){s=s.yx/bl(s);c*=s;l k(c-=clamp(c,d(r),s-r),N(c)/r);}h ai(d p){k q=G(p.xyx*.09153);q+=dot(q,q.yzx+19.19);l G((q.x+q.y)*q.z);}h ai(h p){p=G(p*.1031);p*=p+33.33;p*=p+p;l G(p);}k cA(h p){k a1=G(k(p)*k(.1031,.1030,.0973));a1+=dot(a1,a1.yzx+33.33);l G((a1.xxy+a1.yzz)*a1.zyx);}d cf(d p){k a1=G(k(p.xyx)*k(.1031,.1030,.0973));a1+=dot(a1,a1.yzx+33.33);l G((a1.xx+a1.yz)*a1.zy);}F cl(h p){F a2=G(F(p)*F(.1031,.1030,.0973,.1099));a2+=dot(a2,a2.wzxy+33.33);l G((a2.xxyz+a2.yzzw)*a2.zywx);}F cl(d p){F a2=G(F(p.xyxy)*F(.1031,.1030,.0973,.1099));a2+=dot(a2,a2.wzxy+33.33);l G((a2.xxyz+a2.yzzw)*a2.zywx);}h an(h x,h p){l ai(mod(x,p));}h cm(h x){h m;l o(ai(m=aj(x)),ai(m+1.),b6(x-m));}h W(h x,h p){h m;l o(an(m=aj(x),p),an(m+1.,p),x-m);}h an(d p,d s){l ai(mod(p,s));}h W(d p,d s){p*=s;d m=aj(p);p-=m;p*=p*(3.-2.*p);h cn=an(m+d(0,0),s);h co=an(m+d(0,1),s);h cp=an(m+d(1,1),s);h cq=an(m+d(1,0),s);l o(o(cn,cq,p.x),o(co,cp,p.x),p.y);}h D(d p,d a3,h bd,h be,Z bf){h aF=W(p,a3),aA=1.,tw=1.;for(Z m=0;m<bf;++m){p=G(p+aZ);a3*=be;aA*=bd;aF+=W(p,a3)*aA;tw+=aA;}l aF/tw;}h D(h p,h a3,h bd,h be,Z bf){h aF=W(p*a3,a3),aA=1.,tw=1.;for(Z m=0;m<bf;++m){p=G(p+aZ);a3*=be;aA*=bd;aF+=W(p*a3,a3)*aA;tw+=aA;}l aF/tw;}h bG(d p,d a3,h bd,h be,Z bf){h aF=a7(W(p,a3)),aA=1.,tw=1.;for(Z m=0;m<bf;++m){p=G(p+aZ);a3*=be;aA*=bd;aF+=a7(W(p,a3))*aA;tw+=aA;}l aF/tw;}d aK(d p,d a,d b){d ab=b-a,ap=p-a;h t=Y(dot(ap,ab)/dot(ab,ab));l ab*t+a;}h cr(d c,d f){l dot(c,ah(90.)*aE(f));}h L(d p,d b){d f=v(p)-b;l P(Q(f.x,f.y),0.)+N(Q(f,0.));}h bh(d p,d b){l aJ(v(p)-b);}h X(d p,h r){l N(p)-r;}h aK(d p,d a,d b,h r){l X(p-aK(p,a,b),r);}h aP(d p,d r){l X(p/r,1.)/P(r.x,r.y);}h av(h a,h b){l Q(a,-b);}h b1(h a,h b,h M){h S=Y(.5+0.5*(b-a)/M);l o(b,a,S)-M*S*(1.-S);}d b2(h x){d f=d(dFdx(x),dFdy(x));l f/Q(N(f),1e-8);}h H(h s,h f){l Y(1.-s/f);}h H(h s){l Y(1.-s/fwidth(s));}F bH(d c,h s){l F(c/=s,a0(Y(1.-aX(c))),N(c)-1.);}h cs(k B){h A=aN(B.yz)*.7;l pow(Y(A),4.)+A;}h bI(d c,h s){c/=s;c.y+=.06;c.x*=2.;l j(.3,.0,N(c));}k aL(k e,d c,h s){F b=bH(c,s);e*=1.+cs(b.ae)*H(b.w)*.5;e*=1.-E(bI(c,20.*s))*(1.-H(b.w))*.3;l e;}h aQ(d c,h t){c.x=v(c.x);c.y-=.07;h f=aP(c,d(.31,.12-t*.02))/50.;f=Q(f,-aP(c-d(0,.01+.01*t),d(.28+t*.01,.07))/75.);f=Q(f,-L(c-d(0,.1),d(.22-.02*t,.12)));f=Q(f,-L(c-d(0,.1),d(.084-.012*t,.31)));f=P(f,bh(c-d(0,-.09),d(i(-.09,.32,c.y)*(.04-.015*t),.32)));f=P(f,bh(c-d(.11-.02*t,-.21+.01*t),d(i(-.07,.3,c.y)*(.03-.01*t),.15)));l f;}h ct(d c){h f=X(c-d(0,.17),.32);f=av(f,X(c-d(0,.235),.27));f=av(f,X(c-d(0,.5),.15));c.y-=.09;d s=d(.09,.52);h S=Y(-c.y/s.y);s*=.5;s.x*=j(1.05,.6,S)+E(j(.1,.02,S));c.y+=s.y;f=P(f,L(c,s));l f;}k bJ(d p,h am,h cu){k J=k(-1,0,1),r=k(1e5);d a4=aj(p*am),cB=J.yy;p-=(a4+.5)/am;h ao=.5*an(a4+J.yy,d(am)),aR=.5*an(a4+J.xy,d(am)),aS=.5*an(a4+J.yz,d(am)),aT=.5*an(a4+J.zy,d(am)),aU=.5*an(a4+J.yx,d(am)),bK=.5*an(a4+J.xz,d(am)),bL=.5*an(a4+J.zz,d(am)),bM=.5*an(a4+J.zx,d(am)),bN=.5*an(a4+J.xx,d(am));d[4]aB,A;V(mod(a4.x+a4.y,2.)<.5){A[0]=1.+d(aU-aR,ao-bN);A[1]=1.+d(aT-aU,ao-bM);A[2]=1.+d(aS-aR,bK-ao);A[3]=1.+d(aT-aS,bL-ao);aB[0]=d(aU,ao);aB[1]=d(aU,ao);aB[2]=d(aS,ao);aB[3]=d(aS,ao);}else{A[0]=1.+d(ao-bN,aR-aU);A[1]=1.+d(bM-ao,aT-aU);A[2]=1.+d(ao-bK,aS-aR);A[3]=1.+d(bL-ao,aS-aT);aB[0]=d(ao,aR);aB[1]=d(ao,aT);aB[2]=d(ao,aR);aB[3]=d(ao,aT);}for(Z m=0;m<4;m++){aB[m]+=A[m]*(d(m&1,m/2)-.5);A[m]/=am;h bx=bh(p-aB[m]/am,A[m]/2.-cu/am);V(bx<r.x)r=k(bx,a4+aB[m]);}l r;}b7(bo,aN(v(r)))b7(b3,N(r))h aG(k p,h s){p=aE(p);k a=G(degrees(atan(p,p.yzx))/360.);l W(a.x*s,s)*j(.9,.0,v(p.z))+W(a.y*s,s)*j(.7,.0,v(p.x));}h aG(k p){l aG(p,45);}d cv(k p,Z ax){l(ax==0)?p.yz:(ax==1)?p.xz:p.xy;}Z cw(k B){B=v(B)+k(.01,.02,.03);h C=aJ(B);l(C==B.x)?0:(C==B.y)?1:2;}k cx(k e){k rgb=Y(v(mod(e.x*6.+k(0,4,2),6.)-3.)-1.);rgb*=rgb*(3.-2.*rgb);l e.z*o(k(1.),rgb,e.y);}k a5(){k f=Cam.ae-Pos;h b=D(f.xy/256.*ah(Cam.w),d(3),.7,3.,4),A=1.-j(14.,-6.,N(f.xy)-b*8.)*j(128.,48.,f.z)*step(.1,Nor.z);l ak(Texture1,LUV).ae*2.*A;}I(_8){h b=D(c,d(5),.9,3.,4);k e=o(n(48,41,33),n(103,101,104),b);l e;}I(_9){h b=D(c,d(3),.9,3.,4);k e=o(n(49,45,43),n(81,75,78),b*b);l e;}I(_10){h b=D(c,d(7),.9,3.,4);c.x*=-1.5;c.y+=c.x*.5;c.x=1.-c.x+c.y;c=G(c*28.);h T=Y(1.-N(.1-c));T*=j(.6,.2,N(.6-c));T*=j(.6,.8,N(.1-c));T*=j(.2,.6,b)*2.+1.;h A=1.-j(.2,b+2.,aJ(v(c-.5)));l k((T+1.)*o(.21,.29,b*b)*A);}I(_11){h b=D(c,d(7),.9,3.,4),r=N(c-.5);k e=_10(c);e=o(e,e*n(70,61,53),j(.5,.2,r+b*b*b));l e;}h bO(d c,h s){h f=1e6,m=0.;for(;m<5.;++m){d p=d(0,-s)*ah(m*72.);f=P(f,N(c-aK(c,p,p*ah(144.))));}l f;}al(_12){k e=_11(c);c=G(c)-.5;h b=D(c,d(3),.9,3.,4),f=P(v(N(c)-.4),bO(c,.35));l F(e,H(f-.02+b*.02,.01));}O _13(){F e=ak(af,R);K=F(e.ae*a5()+n(111,55,0)*e.w*(sin(U.x*aH)*.5+.5),1);}I(_70){h b=D(c,d(7),.9,3.,4);k e=_10(c);h r=N(c-.5);h C=j(.46,.45,r);h A=1.5-1.5*j(.0,.3,r*r);A=o(A,2.5,i(.42,.07,r));A=o(A,3.5,i(.44,.05,r));A=o(A,2.6,i(.36,.03,r));h B=.3+.2*j(.35,.30,r);A*=1.-B*j(.3,.7,b);A*=1.-.3*E(j(.13,.05,r));A=o(A,2.5,j(.04,.01,r));A-=A*i(.03,.01,r)*.7;e=o(e,n(68,66,54)*A,C);e*=1.-E(i(.34,.02,r));e*=1.-E(i(.46,.03,r));e*=1.-i(.41,.03,r)*.7;l e;}d cy(d c,h s){l d(1.-N(c)/s,H(N(c)-s));}al(_72){h b=D(c,d(5),.9,3.,4),t,ad,M,r;k e=_10(c);d a6,u;a6.x=v(c.x-.5);a6.y=P(c.y,.4);r=N(a6-d(0,.4))-(.18-.06*j(.4,1.,c.y));M=.25-.15*j(.9,.96,c.y)+.03*E(j(.82,.86,c.y))+.07*j(.8,.2,c.y)+.07*E(j(.35,.22,c.y))-.07*j(.22,.0,c.y);ad=L(c-d(.5,.5),d(M,.46));ad=Q(ad,-L(a6,d(.15,.03))+.06);e=o(e,k(.6,.55,.55)-c.y*.3+b*.2,H(ad));e*=1.-.7*i(.0,.013,ad);e*=1.-(r/.5-.1)*H(ad);t=Q(r,c.y-.96);ad=v(t-.02)-.03;ad=Q(ad,c.y-1.+a6.x*.5);ad=Q(ad,c.y-.96);e=o(e,k(1,1,.9)-c.y*.55,i(-.01,.01,ad));e=o(e,k(.2*b+.1),H(t,.01));e*=1.-.2*i(.0,.05,t)*H(ad);u=cy(a6=c-d(.5,.4),.02);e*=1.+n(111,80,70)*i(.03,.01,N(a6));e*=1.-.5*i(.02,.01,N(a6));e=o(e,n(111,66,44)*(u.x*1.5+.2),u.y);l F(e,H(t-.03,.02));}O _73(){F e=ak(af,R);d c=G(R);c.x=v(.5-c.x);h t=G(-U.x),r=N(c-d(0,.4)),A=t*pow(Q(0.,1.-r),4.)*e.w;V(t>.75)A+=j(.03,.01,v(G(c.y+c.x*.5+t*2.)-.45))*j(.1,.08,c.x);K=F(e.ae*a5()+n(180,150,5)*A,1);}I(_14){h b=D(c,d(5),.9,3.,4);k e=o(n(44,14,16),n(93,63,63),b*b);l e;}k bP(d c){h J=3e-3,a=0.;d g=d(6),r=bo(c,g).xy;for(Z m=0;m<9;++m)a+=aN(v(bo(d(m%3-1,m/3-1)*J+c,g).xy-r));l k(c+r.xy/g,a);}I(_15){h b=D(c,d(3),.9,3.,4);k e=o(n(80,70,72),n(128,120,120),b*b);k u=bP(c);e*=o(.95,1.1,W(u.xy,d(6)));e=o(e,n(168,128,120),j(.5,1.,u.z)*b*.7);l e;}al(_16){h b=D(c,d(3),.9,3.,4);k e=o(n(80,70,72),n(128,120,120),b*b);k u=bP(c);h C=j(.5,1.,u.z);h r=j(.4,.2,N(.5-G(u.xy)));e*=o(.95,1.1,W(u.xy,d(6)))-2.*r*b*b;e=o(e,n(168,128,120),C*b*.7);l F(e,C*r);}O _17(){F e=ak(af,R);K=F(e.ae*a5()+i(.5,.125,G(R.y*.5+U.x*.5))*e.w*.3,1);}I(_18){h b=D(c,d(5),.9,3.,4);k pt=bJ(c,8.,.31);k e=o(n(66,58,55),n(118,107,105),b);h A=1.-.5*j(.034,.036,pt.x);A=o(A,1.4,i(.033,.004,pt.x));l e*A;}h cz(d c){h b=W(c,d(64)),T=0.,f=1e6;for(;T<11.;++T)f=b1(f,v(N(.5-v(c-bB(T)))-o(.36,.29,aI(T+.7)))-o(.015,.03,b),.01);l f*1e2;}k bQ(d c){k s,p;for(Z m=0;m<3;++m){p=k(c,0);p[m]+=1e-4;s[m]=cz(p.xy);}l k(aE(s.xy-s.z),s.z);}I(_19){h b=D(c,d(5),.9,3.,4),A;k e=o(n(51,46,43),n(165,147,143),b*b),f=bQ(c);A=1.-.5*(f.y-f.x)*i(.5,3.,f.z)*j(1.,.0,f."
"z);l e*A*.8;}I(_20){h b=D(c,d(3),1.1,3.,4),A;k e=o(n(51,46,43),n(165,147,143),b*b),f=bQ(c);A=1.-.5*(f.y-f.x)*i(.5,3.,f.z)*j(1.,.0,f.z);l e*A;}I(_21){h b=D(c,d(5),.9,3.,4),A=.18*(.7+b*b);k g;c=ac(c,13.,.007);bj(g,c,E(j(.3+b*.2,.9,D(p[m],d(23),.5,2.,4))));l k(A*(1.-g.y*g.z));}I(_46){h b=D(c,d(5),.9,3.,4);k e=o(n(77,55,53),n(62,48,48),W(c,d(128,13)))*(.7+b*b),g;c=ac(c,13.,.007);bj(g,c,E(j(.4+b*.4,.95,W(p[m],d(63,43)))));e*=j(1.3,.9,g.z);l k(e*(1.+g.y*g.z));}h bR(d c,d s){c.y=Q(c.y,0.);l aP(c,s);}k bu(k e,k b,d c,h S,h s){h y=(c.y-S)/s,p=1.-y*y;e*=1.-i(-1.,1.,y);V(p>0.)e=b*(p*(.8+.2*i(.5,.25,G(c.x/s))))*(.7+E(i(.2,.7,y)));l e;}k c0(d c,h B){l k(B*B*.4);}I(_47){c.x*=.5;h b=D(c*d(2,1),d(3,5),.9,3.,4),B=.75+b*b,t=c.y+.2*P(.4,i(.5,.33,G(c.x*4.))),c1=bR(c-d(.25,.62),d(3,2)/32.),bi=bR(c-d(.25,.55),d(3,2)/48.),r;k e=o(n(66,50,51),n(111,66,44),a0(i(.31,.01,c.y))),au;d p=c,q;p.x=G(p.x*4.);V(c.y>.3)e=aL(e,d(4.*v(p.x-.5)-1.6,G(c.y*16.)-.5),.07);r=v(p.x-.5);e*=1.-.3*j(.31,.32,c.y)*j(.87,.86,c.y)*(j(.035,.03,.5-r)+i(.48,.01,r)-i(.46,.02,r));e=o(e*B,c0(c,b),Q(j(.31,.3,c.y),H(bi)));e*=j(1.5,.7,c.y);V(c.y<.306)e*=1.-i(.3,.05,c.y)*H(-bi+10.,20.);e*=1.-i(.316,.004,c.y)*H(-bi);V(c.y<.1)e*=.0;q=c;q.y+=i(.1,.01,mod(q.x,.33))/2e2;e=bu(e,2.*b*n(93,84,79),c,.185,.015);e=bu(e,2.*b*n(138,77,48),c,.13,.025);e=bu(e,2.*b*n(112,71,51),c,.09,.015);e=bu(e,2.*b*n(138,77,48),q,.05,.015);p.x=v(G(c.x*6.-.5)-.5)/6.;e*=1.+.5*j(.04,.03,p.x)*i(.18,.03,p.y);r=bh(p-d(0,.12),d(.03,.01));r=av(r,bh(p-d(0,.11),d(.01)));e*=1.-E(i(.0,.04,r));e=o(e,n(166,99,77)*2.*b*(.75+.5*E(i(.125,.01,c.y))),H(r));q=p;q.y-=.07;r=X(q,.03);e*=1.-E(i(.0,.07,r));e=o(e,n(127,83,72)*b*2.*j(.01,-.005,r),j(.005,.0,r));q.y-=.004;r=X(q,.015);e*=E(j(-.01,.01,r));q.y+=.013;r=X(q,.05);e+=n(67,38,30)*4.*a0(b)*E(i(-.02,.015,r)*i(.023,.02,c.y));r=av(c1,bi);r=av(r,(c.y-.3)*3e2);e*=1.-.5*i(-2.,17.,bi)*j(.26,.3,c.y);au=n(67,39,17)*B;au=o(au,k(B*.2),i(0.,4.,r)*b);au*=1.-.4*pow(i(.0,3.,r),4.);au+=(au+.6)*a0(b)*E(i(-6.,8.,r)*i(.66,.04,c.y))*H(r);V(c.y<.56)au=aL(au,d(24.*v(c.x-.25)-1.85,G(c.y*24.+.5)-.5),.15);e=o(e,_46(c),j(.85,.9,t)+step(c.y,1./256.));e*=1.+i(.88,.015,t)-E(i(.87,.03,t));l o(e,au,j(1.,.1,r));}k c2(k e,k M,d c,Z w,Z S){h b=D(c,d(w,S),.5,2.,2);e*=.9-.3*j(.15,.1,v(b-.5));l o(e,M,i(.5,.1,b));}I(_52){c=ac(c,9.,.005);Z m=0,A[]=Z[](13,43,17,47,23,59,27,63);h b=D(c,d(19),.7,2.,4);k e=o(n(40,50,60),n(46,33,27),b)*(.5+b);for(;m<8;m+=2)e=c2(e,o(n(145,140,137),n(132,123,116),b),c,A[m],A[m+1]);l e;}k c3(k e,k M,d c,Z w,Z S){h b=D(c,d(w,S),.5,2.,2);e*=1.-.15*E(j(.15,.1,v(b-.5)));l o(e,M,i(.5,.1,b));}I(_59){h b=D(c,d(13),.9,3.,4),B=D(c,d(7),.9,3.,4);k e=o(n(111,66,55),n(80,55,52),E(j(.8,.2,B)))*(.8+.8*b*b),M=e;c=ac(c,13.,.01);Z m=0,A[]=Z[](13,43,17,47,23,59,27,63);b=D(c,d(19),.7,2.,4);for(;m<6;m+=2)e=c3(e,M,c,A[m],A[m+1]);l e;}k c4(k e,k M,d c,Z w,Z S){h b=D(c,d(w,S),.5,2.,1);e*=.9-.3*E(j(.15,.1,v(b-.5)));l o(e,M,i(.5,.1,b));}I(_41){h b=D(c,d(3,29),.9,2.,4),t=.8+.8*b*b,f=v(c.y-.61),ad=j(.25,.24,f),C;k e=n(140,127,127),M=e;d p=c;e*=1.-.1*j(.85,.86,c.y);e=t*o(e,n(110,55,50),j(.33,.32,c.y));p.y+=p.x*.11+b*.007;p.y=G(p.y*9.)-.5;C=j(.0,.1,v(p.y)-.2);Z m=0,A[]=Z[](3,29,5,37,9,63,27,63);for(;m<6;m+=2)e=o(e,c4(e,M,c,A[m],A[m+1]),C*ad);e*=1.+t*ad*(+.6*i(.1,.1,p.y)-.7*i(-.25,.3,p.y)-.5*i(.2,.1,p.y));e=o(e,n(99,66,51)*t,i(-.15,.1,p.y)*ad);e*=1.+i(.36,.005,c.y)+i(.34,.005,c.y)+i(.865,.005,c.y)+i(.89,.01,c.y)-.5*E(i(.245,.01,f))-.7*E(i(.35,.01,c.y))-.5*E(i(.325,.02,c.y))-.8*E(i(.875,.02,c.y))-.3*E(i(.9,.02,c.y));e*=.3+a0(a7(c.x));l e;}k bS(k e,d p,h s,h C){s=bo(p,d(s)).z/s*1e2;e*=1.+.5*C*j(.9,.2,s)-.5*C*i(2.5,.5,.3,s);l e;}k bT(k e,d c,h c5){h b=D(c,d(4,9),.9,3.,4),t=.8+.8*b*b,a,f,C,s,M,m,u,r,z;k aM=o(n(133,100,88),n(133,100,100),b)*t;d p,q;p=q=c;q.x=v(q.x);f=X(p,.31);u=aO(q);C=j(.01,.0,f);e=o(e*j(.0,.05,f+c5),k(.13*t),C);e=bS(e,p,37.,j(.04,.02,v(f+.07)));a=u*22.;m=aj(a);s=a-m;M=j(.23,.22,v(u-.25))+aI(m)*j(.0,.1,q.y);f-=r=(f*.3+.005)*M;C=j(.0,.1,q.y)*H(v(f+.015)-.015);e=o(e,aM,i(-.005,.01,f));e=o(e,n(130,75,44)*t,i(-.02,.005,f)*j(.0,.1,q.y));e*=1.-.3*j(.025,.03,-f)-.5*j(.4,.5,v(s-.5))*C+.2*i(.5,.3,v(s-.5))*C-.5*i(-.015,.007,f)-.5*i(-.03,.007,f)-.5*i(-.1,.005,f+r)-.5*i(-.115,.005,f+r)-.5*i(-.125,.015,f+r)-.5*i(-.145,.005,f+r)+.9*i(-.11,.007,f+r)+.5*i(-.14,.005,f+r)-b*i(.225,.005,v(u-.25))*H(v(f+.015)-.015);a=u*72.;m=aj(a);s=a-m;M=step(.7,ai(m))*step(q.y,.0)*j(.02,.0,v(f+.02));e=o(e,k(aM*.6),M*j(.4,.3,v(s-.5)));e*=1.-.7*M*i(.4,.1,v(s-.5));l e;}k b4(d c){h b=D(c,d(4,9),.9,3.,4),t=.8+.8*b*b,a,f,C,s,M,m,u,r,z;k aM=o(n(133,100,88),n(133,100,100),b)*t,e=k(.1*t);d p,q;p.x=c.x-.5;p.y=Q(c.y-.2,0.)*1.89;u=atan(p.y,v(p.x))/aH;f=X(p,.48);M=j(.3,.31,u);f*=1.-.2*j(.3,.31,u)-.1*j(.43,.44,u);a=u*(u>.44?2.:u>.3?63.:31.);e=o(e,aM,j(.03,.01,v(f)));C=H(v(f-.01)-.02);m=aj(a);s=a-m;V(u>.33&&u<.44)s=G(s+ai(m)*.6-.3);e*=1.-.5*C*i(.307,.01,u)-t*C*i(.5,.1+M*.2,s)+b*C*i(.52,.2+M*.2,s);e*=1.-.9*i(-.015,.015,f)-.5*i(.0,.01,f)-.7*i(.03,.02,f)+i(.01,.015,f);q=p;q.y-=.5;q.x=v(q.x)+.6;f=X(q,1.13);C=j(.03,.02,v(f))*j(.5,.6,q.y);e=o(e,aM*Y(1.-v(f-.015)/.03),C);e*=1.-.5*C*i(.005,.01,f)+.5*C*i(.017,.005,f);q.x=v(c.x-.5)-.35;q.y=c.y*9./4.-2.1;f=X(q,.13)*10.;a=aO(q)*49.;m=aj(a);s=a-m;u=j(.85,.9,ai(m));for(Z aC=0;aC<2;++aC,f+=.3){e=o(e,aM*(b*.5+.2),j(.09,.03,v(f)));e*=1.+.7*E(i(.01,.05,f));}p.y=(c.y-.7)*9./4.;f=X(p,.43);a=atan(p.y,v(p.x))/aH;a=Q(a,-.48);r=a;m=aj(a*=23.);s=a-m;M=aI(m)*.2-.1*j(.0,.1,-f);u=j(.1,.2,v(s-.5)-M);f+=u*.007;r=(1.-u)*E(i(.5,.3,r))*j(.25,.05,v(s-.5));f-=.17*r;C=i(.04,.0,-.4,f);e=o(e,aM*(b*.4+.4),C);e=bS(e,p,31.,j(.1,.05,v(f+.15))*u);e*=o(1.,1.-i(.1,.2,.4,v(s-.5)-M),C*b);e*=1.-.7*E(i(.03,.03,f))-.7*E(i(.03,.03,f+.05))*u-.7*E(i(.0,.02,f+.05))*u-.3*j(.04,.06,-f)*u+.5*i(.02,.0,-.1,f)+i(.0,.01+.07*r,f)+i(.0,.01,f+.03)*u;p.y-=.05;e=bT(e,p,0.);l e;}I(_42){c.y=(c.y+8.)/9.;l b4(c);}I(_43){c.y=(c.y*4.+4.)/9.;l b4(c);}I(_44){V(c.y<.01)++c.y;c.y=c.y*4./9.;l b4(c);}I(_54){h b=D(c,d(5),.9,3.,4),t=bG(ac(c,4.,.01),d(7),.5,3.,5),B=W(ac(c,4.,.05),d(9)),aD,J;k pt=bJ(c,4.,.1+B*t*.05),e;d f=b2(pt.x);aD=ai(G(pt.yz));e=n(74,65,62)*(.8+.8*b*b);e+=i(.6,.3,B)*j(.3,.9,b*t)*.2;e*=1.-i(.5,.4,B)*j(.5,.7,t)*.1;e=o(e,n(86,74,78),i(.5,.1,b)*i(.7,.3,aD)*.7);e=o(e,n(105,90,70),i(.3,.1,t)*i(.3,.3,aD)*.3);J=i(.015,.005+.015*B,pt.x)+i(.4,.1,B*t)*.4;e*=1.-b*j(.015,.05,pt.x)*.7;e*=1.+J*b*(f.y-.5)*.7;e*=.9+.2*aD;e*=.9+.2*a7(W(c-pt.yx,d(5)));l e;}I(_45){k e=_54(c);c-=.5;e=bT(e,c*.9,.02);l e;}k aV(d c){c*=1.5;h b=D(ac(c,7.,.02),d(9),.7,3.,2),t=b,B=W(c,d(13)),a,s,f;k e=_54(c);d p;p.x=v(c.x-.75);p.y=Q(c.y-.58,0.)*1.15;a=atan(p.x,p.y)/aH;s=G(a*7.+.5);f=X(p,.45);f-=.06*j(.4,.33,c.y);f-=.05*j(.15,.07,v(s-.5))*step(.63,c.y);f=av(f,c.y-.107);V(c.y<.6)f=av(f,v(p.x-.493)-.113);f=av(f,X(p,.6)+.044*j(.48,.43,c.y));e=o(e,n(144,125,115)*t,H(f-.1,.005));e*=1.-.3*i(.12,.11,.1,f)+.5*i(.1,.005+.015*B*B,f);l e;}I(_32){l aV(d(5,0)/6.+c*d(1,4)/6.);}I(_33){l aV(d(1,0)/6.+c*d(4)/6.);}I(_34){l aV(c*d(1,4)/6.);}I(_35){l aV(d(5,4)/6.+c*d(1,2)/6.);}I(_36){l aV(d(1,4)/6.+c*d(4,2)/6.);}I(_37){l aV(d(0,4)/6.+c*d(1,2)/6.);}I(_55){h b=D(c,d(13,1),.7,2.,3);k e=_54(c)*.7;e*=1.-E(j(.4,1.,b));l e;}k bU(d c,d s){h b=D(c,d(5),.9,3.,4),B=D(c,d(31,3),.5,3.,3),t=.75+b*b;d p=c;k e=_54(c);V(c.y<.38)e=o(n(92,43,15),n(66,44,33),j(.1,.05,c.y))*t*(.5+.5*j(.0,.35,c.y));e+=b*s.y*E(i(.32,s.x*.015,c.y))+.3*b*i(.34,.05,c.y);e*=1.-i(.38,.005+b*b*.03,c.y)+3.*i(.15,.2,c.y)*(B-.5);l e;}I(_56){h b=D(c,d(5),.9,3.,4),t=.75+b*b,f,ad,m;d p=c;k e=bU(c,d(1));p.x=mod(p.x,1./7.)-.07;p.y-=.21;f=X(d(.75*p.x,b0(p.y,.1)),.033);ad=H(f,.005);f=X(d(.75*p.x,b0(p.y+.005,.09)),.033);m=H(f+.015);e=o(e,n(83,81,66)*t,(ad-m)*j(.1,.3,c.y));e*=1.-j(.17,.25,c.y)*m;e+=E(i(.0,.015,f))*i(.32,.03,c.y);e*=1.+3.*pow(i(-.01,.03,f),4.)*i(.09,.03,c.y);f=X(d(.75*p.x,b0(p.y+.03,.1)),.033);e*=1.-H(f+.01,.02)*(1.-ad);V(c.y>.09&&c.y<.3)e=aL(e,d((v(p.x)-.035)*36.,G(c.y*36.)-.5),.1);l e;}d c6(d p){p.x=v(p.x);d q=p,u;q.y-=.5;h f=X(q,.35),J,e;u=q/.35;q.y+=.25;q.x-=.15;f=P(f,L(q,d(.09,.05))-.1);J=aP(q,d(.15,.1))/5e1;e=.1+dot(d(u.y,a0(Y(1.-aX(u)))),d(.3,.3));q.y+=.2;q.x=p.x;e=Q(e,Y(.4-N(q)));e+=.15*i(.0,.1,J)-.1*H(J+.12,.15);f=P(f,L(q,d(.15-j(-.15,.15,q.y)*.07,.03))-.09);e*=1.-j(.05,.25,q.x)*j(.2,.1,v(q.y+.12));q.y-=.06;e-=.5*H(aP(q,d(.05-j(-.1,.1,q.y)*.03,.06))/1e3+.03,.05);l d(Y(e),H(f,.02));}"
"I(_57){h b=D(c,d(9),.7,2.,4),t=.75+b*b;k e=bU(c,d(4,.3));d p=c,s;p.x=mod(p.x,.2);p-=.1;s=c6(p*5.);l o(e,o(k(.5,.4,.3),k(.95,.8,.55),t)*t*s.x,s.y);}I(_53){d p=bE(c,d(8)),q=G(p),u=ac(c,31.,.002),aD=p-q;h b=D(ac(c,5.,.02),d(7),1.,3.,4),t=.8+.8*b*b,B=W(c+bB(ai(aD)*64.),d(23)),C=D(c,d(9),.7,3.,4),f=D(u,d(63),.7,3.,4),r=D(u-d(0,.002),d(63),.7,3.,4),A=f-r,J=bF(q,.03+.03*a7(B)).z,S=ai(aD);k e=o(n(91,61,42),n(70,30,15),J*b);e=o(e,n(70,48,35),j(.5,.6,C))*t;e*=1.+A*(.1+B+i(.6,.1,C))*(1.-J)-t*j(.7,1.,J)*W(c,d(13))+.5*b*i(.3,.3,J);f=D(u,d(23),.5,2.,4);e*=1.-.2*j(.6,.7,f)*S+.3*i(.6,.05,f)*S*B;e*=.9+.2*S*(1.-J);e*=.9+.4*pow(bG(c-ai(aD/8.),d(5),.6,2.,4),4.);l e;}al(_28){h b=D(c-=.5,d(5),.9,3.,4),t=.75+b*b,B=W(ac(c,7.,.02),d(17)),r=N(c),M=r>.4?38.:r>.32?28.:16.,a=G(atan(c.y,c.x)/bA),m=aj(a*M),a8=v(v(r-.41-B*.002)*1e2-6.),C=j(1.5,1.4,a8),b5[]=h[](1.,3.,-.145,-1.,2.,.166),f,bV,s;d p=c;k e=n(78,68,63);e*=1.+.5*E(i(.49,.005+.015*B*B+.015*b,r));e=o(e,n(83,52,47)*(.6+.4*B*B),C)*t;e*=1.-.5*i(1.5,.5,a8)+b*i(1.,.5+.5*B,v(r-.418)*1e2-5.)-b*i(.5,.08,G(a*M+.5))*C+b*i(.5,.1,G(a*M+.55))*C;C=j(.34,.33,r);e=o(e*(1.-.5*C),n(83,52,47)*t,B*b*C);e=o(e,n(112,86,31)*t,C*E(i(.1,.15,.45,b)));e=o(e,n(77,66,77)*t,C*j(.5,.8,b)*.5);e*=1.-.7*i(.27,.34,.35,r);a8=r+B*.004;C=r>.21&&r<.31?1.:0.;e*=1.-i(.325,.005,a8)-i(.31,.005,a8)-b*E(i(.29,.005,a8))-b*E(i(.23,.01,a8))-.5*E(i(.21,.02,a8))+E(i(.3,.01,a8))*b+E(i(.22,.01,a8))*b-b*i(.5,.07,G(a*M+.5))*C;V(r<.23)m+=37.;V(r<.31)m+=73.;V(r<.31)m+=91.;e*=o(1.,.9+.2*aI(m),C);C=j(.01,.0,v(r-.411)-.039);m=aj(a*72.);p*=ah(m*5.);s=0.;f=1e6;Z aC=0;for(;aC<6;aC+=3){f=bC(f,bV=dot(p,aE(d(b5[aC],b5[aC+1])))+b5[aC+2]);s+=s+h(bV>0.);}V(s==3.)++m;else m+=66.*s;m=aI(m);e=o(e,t*n(90,80,75),C);e=o(e,t*n(127,111,88),m*b*C);e*=o(1.,.7+.6*ai(m),C);e*=1.-C*E(i(.0,.006,f))*b+C*E(i(.006,.006,v(f)))*b*.5;m=aj(a*4.);p=v(c*ah(m*90.+45.));f=1e6;for(aC=0;aC<2;++aC,p=v(p*ah(45.)))f=bC(f,v(N(p-d(0,.12))-.16));C=j(.21,.2,r);a8=bc(bc(f,.012),.001);e*=1.-j(.21,.2,r)*H(.012-f)+b*C*E(i(.005,.005,f))-.5*C*E(H(a8-.001,.001));l F(e,(1.-j(.21,.15,r)*H(.028-f,.02))*j(.07,.087,r));}al(_29){d p=G(R)-.5;h b=D(ah(U.x*333.)*p/(.8+.2*sin(U.x*61.)),d(53),.7,2.,4);F e=F(1.-b*k(0,.3,1),1),au=ak(af,(ah(U.x*30.)*p/(.8+.2*sin(U.x*1.26)))+.5);e.ae=o(e.ae,au.ae,au.w);au=ak(af,R);e.ae=o(e.ae,au.ae,au.w)*a5();l e;}h c7(d p){p=bm(p,8.);h f=X(p,.41);f=P(f,L((p-d(.34,0))*ah(45.),d(.1)));f=Q(f,p.x-.45);l f;}I(_30){d p=c-.5,q;h b=D(c,d(9),.7,2.,4),t=.8+.8*b*b,r=X(p,.41),f=c7(p),A=dFdy(f)/.004,C=H(f+.01,.007),a=aO(p),J,B,x,z;k e=_54(c),M=n(155,135,115)*t;e*=1.-(.5*-A+.5)*j(.03,.0,f);e=o(e,M,C);J=N(p)*9.;q.x=a*aj(J+1.)*3.;q.y=G(J);B=i(.5,.2,W(ac(c,7.,.03),d(41)));B=D(q,d(3,9),.5,2.,4)*i(.5,.5+.5*B,q.y);e=o(e,n(100,85,80)*a7(B)*b,H(r+.15,.02));q=p;q.x=v(p.x);J=Q(Q(f,cr(q,-d(.08,.4))),v(r+.06)-.09);z=L(q-d(0,.3),d(.01,.03));J=av(J,z-.02);x=H(-J,.01);e*=1.+A*C*j(.02,.0,-f)*j(.01,.0,-r)+x*i(.035,.015,-r)+.5*x*i(.13,.01,-r)+.7*i(.08,.007,z)*(1.-x)-.7*x*E(i(.01,.04,-r))-.6*x*E(i(.13,.06,.03,-r))-.5*x*E(i(.12,.02,-r))*C-.9*E(i(.12,.15,.2,-r))*C-.5*E(i(.0,.05,J));e+=k(.8,.8,1)*pow(Y(1.-N(c-d(.41,.59))/.35),8.);q.x=a;q.y=j(.05,.12,-r);J=bo(q,d(37,1)).z;C=i(.085,.035,-r)*x;e*=1.+.5*C*i(.0,.2,J)-.3*C*i(.3,.3,J);J=L(p+d(0,.33),d(.01,.03))-.03;A=dFdy(J)/.004;e=o(e,M*(.4+.8*j(.25,.41,-p.y)),z=H(J,.01));e*=1.+.7*i(.005,.01,J)*A-.5*i(.0,.01,.05,J);J=L(q=p+d(0,.35),d(.01,.015))-.01;A=dFdy(J)/.004;e*=1.+.5*i(.005,.01,J)-.5*E(i(.0,.01,J));e+=k(1,.7,.5)*pow(Y(1.-N(q)/.11),8.);l e;}O _31(){k e=ak(af,R).ae*a5();d c=G(R)-.5,p=c;h t=mod(U.x*2.,7.),m=aj(t),f=1e6;V(m==0.)f=ct(p*2.4+d(0,.05));V(m==1.){p.x=ck(p.x,.1,-1.,1.);f=L(p,d(.02,.15))*2.;}V(m==2.){f=P(f,L(bn(p,.0)+d(.13-j(-.3,.3,c.y)*.17,0),d(.02,.15)));f=P(f,L(p+d(0,.07),d(.07,.02)))*2.;}V(m==4.)f=aQ(p*1.8,.5);else f=bc(f,.005);K=F(e+H(f,.02)*G(-t)*k(.5,.05,.05),1);}I(_58){h b=D(c,d(13),.9,3.,4),B=D(c,d(7),.9,3.,4);k e=o(n(60,50,50),n(87,47,37),E(j(.7,.25,B)))*(.7+.8*b*b),g;c=ac(c,31.,.003);bj(g,c,a0(j(.0,.9,W(p[m],d(93)))));e*=1.-(g.y+.4)*E(b*g.z)*g.z;l e;}I(_62){h b=D(c,d(5),.9,3.,4);k e=n(67,64,63)*(.6+.5*b),g;c=ac(c,31.,.003);bj(g,c,a0(W(p[m],d(53,93))));e*=1.-.3*g.y*g.z*g.z;l e;}al(_22){c=ac(c,7.,.01);h b=D(c,d(9),.7,2.,4),B=D(c,d(13),.5,2.,4),C=j(.6,.9,D(ac(c,5.,.03),d(11),.6,2.,4));k e=n(127,70,55)*(.85+.3*b);e*=1.-.2*E(j(.3,.0,b*b))-.2*C-.3*j(.6,.77,B)+.3*j(.5,.9,b);e+=.5*E(j(.5,1.,D(c,d(17),1.,2.,3)));l F(e,1.-C);}O _24(){F e=ak(af,R);d c=G(R);c.y-=.2*U.x;h b=D(ac(c,7.,.02),d(5),.9,2.,4);K=F(o(n(25,10,8)*b,e.ae,e.w)*a5(),1);}I(_23){d p=c-.5;p=ac(p,17.,.007);p.x*=2.-c.y*1.5;h b=D(c,d(9),.7,2.,4),B=W(c,d(7)),f=N(p),s;k e=_22(c).ae;s=G(f*=13.);V(f<=6.){e*=1.-pow(j(6.,.5,f+b*b),6.);B=j(.3,.7,B);e*=1.-B*b*i(.4,.2,s)+B*b*i(.6,.4,s);}l e;}I(_25){c=ac(c,13.,.003);h b=D(c,d(7),.9,3.,4),B=D(c,d(5),.5,2.,4),t=.5+b;k e=n(80,38,34),u=b3(c,d(23));e=o(e,o(n(180,125,118),n(165,78,51),B),b*i(.0,.4+B*.4,u.z))*t;l e;}I(_26){h b=D(c,d(7),.9,3.,4),t=.8+.4*b,m,r=.7,A,C;k e,u=b3(c,d(23));d p=u.xy/r,q=c+u.xy/23.;m=ai(G(q)*3.3);e=o(n(155,55,55),n(200,166,155),j(.75,.45,q.y))*t;C=i(.5,.5,N(p));A=dot(d(-p.y,a0(Y(1.-aX(p)))),d(.6+m*.3,.3));e*=1.-b*.8*j(.5,.1,u.z)+b*C*A;e*=t*t*t*t;l e;}I(_27){h b=D(c,d(13),.9,3.,4),t=.4+b*b,B=a7(W(ac(c,12.,.02),d(48))),m,r,A,C;k e=n(60,50,46)*t,u=b3(c,d(17));m=ai(G(c+u.xy/17.));r=.4+.3*m;d p=u.xy/r;C=P(j(1.1,1.,N(p)),j(.0,.15,u.z));A=dot(d(-p.y,a0(Y(1.-aX(p)))),d(.1+m*.2,.3));e+=b*C*A*B;B=a7(D(ac(c,13.,.01),d(23,43),.5,2.,3));e*=1.+(1.-C)*i(.4,.4,B);l e;}I(_60){h b=D(c,d(7),.9,3.,4),B=D(c,d(3),.5,3.,4);k e=o(n(103,56,53),n(73,58,71),j(.1,.7,B))*(.75+b*b);l e;}I(_61){h b=D(c,d(13),.9,3.,4),B=W(ac(c,5.,.05),d(9)),f=a7(G(c.x*4.)),C=j(.1,.15,f)*j(1.,.99,c.y);k e=n(51,44,44);e=o(e,n(73,55,52),j(.2,.2,b)*B*C);e=o(e,n(69,60,66),j(.7,.1,b)*b*C);e=o(e,n(99,77,77),j(.1,.5,B)*B*C*b*b*.3);e*=.6+.3*b+.3*b*b;e*=1.+.9*E(i(.21,.02+.1*B,f+b*.05))*C*b;e*=1.-E(j(.49,.5,v(c.y-.5)));e*=1.-j(.05,.2,f)*j(.16,.1,f);e*=1.+i(.99,.007,c.y);l aL(e,d(f-.4,G(c.y*8.)-.5),.07);}k bW(d c,h s){h b=D(c,d(3,1.+s+s),.7,2.,4),f=a7(c.x),C;c.y*=2.;k e=o(n(71,60,58),n(110,88,77),j(.1,.05,f))*(.7+.6*b);e*=1.-j(.05,.0,c.x)*(1.-b*b);e*=1.+.5*i(.05,.02,c.x);d p=d(f-.35,G(c.y*s)-.5);F M=bH(p,.11);C=H(M.w);e*=1.-.7*bI(p,1.1)*(1.-C);e=o(e,(M.y>.0?n(128,105,88):n(200,111,66)*j(-.2,.7,M.z))*(.4+2.*b*pow(Y(aN(M.yz*.7)),4.))*(1.-.6*i(-.1,.4,M.y)),C);l e;}I(_38){l bW(c,4.);}I(_39){l _38(c.yx);}I(_40){l bW(c,1.);}I(_48){h b=D(c,d(40,5),.9,3.,4);k e=n(110,110,98)*(.8+.8*b*b);V(c.y<1./4.)e*=.5;e*=1.-.4*j(.4,.0,b)+.5*j(.02,.0,c.y)+.2*i(.24,.01,c.y);l e;}I(_49){d p=c,q;p.y*=22.;q=G(p);h b=D(c,d(3,23),1.,2.,6),B=D(c,d(3,33),.7,3.,4),aD=ai(p.y-q.y);k e=n(92,67,53)*(.8+.8*b*b);e*=1.-E(j(.1,.0,P(q.y,1.-q.y)))*b;e*=1.-.2*smoothstep(.3,.7,B);e*=.8+.3*b*aD;l e;}I(_50){h b=D(c,d(13),.9,3.,4),x=c.x*16./3.;k e=_49(c)*j(.15,.21,c.x);V(x<1.)e=n(59,48,49)*(.7+.6*b);e*=1.+.5*i(.05,.05,a7(x));l aL(e,d(v(c.x-3./32.)-.07,mod(c.y,.1)-.05),.004);}I(_51){d p=bE(c,d(6,4)),q=G(p),a6=q;h b=D(ac(c-=.5,5.,.03),d(13),.9,2.,3),B=W(c,d(73,7)),t=(.75+b*b)*(.8+.4*cg(c.x*93.)),r;k e=k(.25*t);a6.y+=a6.y*2.-.01-.03*B;r=N(a6-=clamp(a6,d(.49,.5),d(.51,3)));e*=1.-.7*b*E(j(.07,.03,v(r-.5)))+.5*b*i(.35,.1,r)*E(j(.2,.1,q.y))-.3*E(j(.8,1.,q.y))-.3*(j(.3,.1,q.y))*j(.4,.6,r)+.2*E(j(.5,.1,q.y))*j(.45,.4,r);l e;}I(_64){h b=D(c,d(5),.9,3.,4),S=G(c.y*10.);k e=o(n(53,48,42),n(38,38,36),b)*(.6+b*.8);e*=1.+.5*E(i(.25,.25,S))+.5*E(i(.65,.35,S))-.6*E(i(.5,.5,S));l e;}I(_63){h b=D(c,d(7,3),.9,3.,4),S=c.y+b*.04;k e=o(n(50,40,34),n(93,92,88),b*b);e*=1.+.9*j(.07,.04,v(c.y-.44))-.4*j(.08,.05,v(c.y-.7))-.5*i(.34,.05,c.y)-.3*i(.7,.04,c.y)+.7*i(.01,.03,c.y)+1.5*i(.89,.1,S)+1.3*i(.5,.04,S)+.9*i(.18,.04,S);l e;}I(_65){h b=D(c,d(5,3),.9,3.,4);k e=o(n(74,66,55),n(99,90,78),b*b);c.x*=2.;d p=aK(c,d(.5,.625),d(1.5,.625));h f=N(p-c),C=j(.22,.20,f),A=1.-.15*C-.5*j(.7,.9,c.y)*C-.3*(b2(f).y-.5)*i(.2,.03,f)-.3*E(i(.17,.03,f))-.5*j(.05,0.,c.y)-.3*i(.33,.05,c.y)+.7*j(.93,1.,c.y)+.7*i(.31,.04,c.y);l e*A;}al(_66){h b=D(c,d(1,5),.4,3.,4);k e=o(n(56,49,43),n(142,136,136),b);c=.5-v(c-.5);c.y*=4.;h a=i(.0,.1,N(c-aK(c,d(.41,.5),d(.42,3.5)))),f=bl(c),A=1.-.7*Q(0.,1.-f/.15);A*=1.-.8*j(.24,.31,P(f,c.y-.1));e+=n(80,80,20)*a;l F(e*o(A,2.7,a),a);}al(_69){h b=D(c,d(1,5),.4,3.,4);k e=o(n(56,49,43),n(142,"
"136,136),b);c=.5-v(c-.5);c.y*=8.;h f=N(c-aK(c,d(.27,.3),d(.27,7.7))),a=i(.0,.17,f),A=1.-.5*i(.17,.07,f);e+=n(80,80,20)*a;l F(e*o(A,2.7,a),a);}al(_67){d p=v(c-.5);h b=D(c,d(1),.4,3.,4),r=N(p),a=j(.37,.33,r)*(.5+2.*b),A=1.+.0*j(.08,.03,v(r-.41));k e=o(n(56,49,43),n(142,136,136),b);A=o(A,7.,j(.44,.1*b,r));A*=1.-.5*E(i(.46,.04,r));A*=1.-.4*E(i(.36,.04,r));l F(e*A,a);}al(_68){h b=D(c,d(5),.9,3.,4),f=b1(bO(c-=.5,.35),v(X(c,.4)),.02),a=pow(H(f-.02,.15),8.),ad=P(Q(L(c,d(.46)),-X(c,.51)),v(X(c,.44)));k e=n(76,62,47)*(.8+.8*b*b);e*=1.+(b+.5)*H(v(ad)-.01,.01);e*=1.-j(.1,.05,f)*H(X(c,.4));l F(e+1.*k(1,1,.3)*a,a);}al(_1){c-=d(.48,.5);h f=aQ(c,0.),b=N(c)-.47;k e=1.-k(.5,1,1)*H(Q(.007-f,b+.04));l F(e,1)*H(b);}I(_2){c-=.5;d r=d(dFdx(c.x),dFdy(c.y));c/=r/aJ(r);c*=.8;c.y-=.03;h x=v(c.x),b=D(c,d(31,5),.7,2.,3),t=.8+.8*b*b,f=aQ(c,1.),J=aQ(c+d(0,.002),1.),A=(J-f)*5e2+.5;k e=k(.3*t,0,0)*H(f,.004);e*=1.-E(j(.0,.3,x))-.5*j(.1,.3,v(c.y-.1));e+=+t*.2*i(.0,.01-.01*x,f)*i(.1,.2,c.y)*j(.3,.2,x)*A+t*.5*j(.004,.0,f)*j(.07,.1,c.y)*i(.23,.1,x)*k(.9,.9,1)+t*.4*i(.005,.005,f)*j(.2,-.1,c.y)*j(.3,.2,x)*Y(-A);l e;}h bX(d c,h s,h m,h c8){m=(c.y-E(v(c.x-.5))*c8)*s-m;l 2.*i(.5,.4,m)*(G(m)-.5);}al(_78){h b=D(c,d(5,9),.9,3.,4),t=.8+.8*b*b,B=D(c,d(5,9),.9,3.,2),x=v(c.x-.5),f;k e=n(77,60,44)*t;d p=c*d(1,2)-d(.5,.7);e*=1.-.55*H(av(X(p,.3),aQ(ah(45.)*p*.8,0.)-.01));e*=1.+E(j(.6,.9,b))+i(.2,.5,c.y)*i(.2,.3,x)*bX(c,4.,.2,4.);for(h T=6.;T<9.;++T)e*=1.+i(.8,.5,c.y)*i(.2,.3,x)*bX(c,12.,T,1.);f=c.y-.81-E(Y(x*4.))*.09;e=o(e,n(82,66,60)*t,j(.0,.01,f));e*=1.-.5*(i(.01,.02,f))+.5*(i(.02,.01,f));f=.15*(1.-c.y);f=L(c-.5,d(.49)-f)+B*.1*a0(1.-c.y)-f;l F(e*E(H(f+.01,.05)),H(f));}al(_79){F e=ak(af,c);V(e.w<.5)discard;e.ae*=E(a5()*.5);l e;}F aW(k p,h s){p*=s/h(textureSize(af,0).x);k B=Nor*Nor;F e=F(0);for(Z m=0;m<3;++m,p=p.yzx)e+=ak(af,p.yz)*B[m];l e/aN(B);}F aW(h s){l aW(Pos,s);}O _80(){k B=Nor*Nor;K=aW(4.)*(Clr+.5*B.z*B.z*sign(Nor.z))*1.5;}O _81(){_80();}O _96(){K=aW(16.)*(aE(WNor).z*.5+.5)*F(1,.95,.9,1);K+=2.*pow(Y(aE(Nor).z),o(2.,8.,K.y))*E(K);}O _97(){K=F((aG(Ref,15.)*1.4+.3)*U.yzw,1);}O _98(){k r=Ref;h s=17.;V(U.y<1.){s=9.;mat2 a=ah(U.x*90.);r.xy*=a;r.yz*=a;}s=aG(r,s);K=F(E(j(.1,.9,s))*1.5*G(U.yzw)+.5*E(j(.9,1.,s)),0);}h c9(h b,h a,h T,h p){l(v(G(U.x*T+p-.25)-.5)*4.-1.)*a+b;}O _99(){k r=Ref;mat2 a=ah(U.x*90.);r.xy*=a;r.yz*=a;K=aG(r,22.)*Y(c9(-.3,1.3,.3,0.))*F(.3,.55,.25,0);}O _100(){k B=aE(Nor),p=Pos;p.z-=24.;h J=i((D(Pos.y/48.+U.x*7.4,13.,.6,2.,4)-.5)*.15,.03,G(j(-8.,32.,Pos.z)-U.x*1.3)-.5);K=F((aW(16.).ae*(B.z*.5+.5)*(.2+.8*j(4.5,6.5,N(p)))+J*J)*U.yzw*2.,1);}h bY(h e,h s,h x){h a=Q(fwidth(x)*2./s,1.);l i(e,s*a,x)/a;}O _82(){_80();k p=Pos,q;p.y=v(p.y);q=p-k(7,3.5,-21);q.z*=1.3;h r=N(q);K.ae*=1.+Y(p.z+30.)*j(4.,5.,N(p.xy))+.5*Y(p.z+15.)+.3*i(3.,.5,r)+.7*bY(-15.,.5,p.z)-bY(-14.5,.5,p.z)-j(3.,2.5,r)*(.6+.4*q.z/r);q=p-k(8,0,-23);q.z*=.7;r=N(q);K.ae*=1.-j(2.,1.,r)*(.6+.4*q.z/r);}al(_83){c*=d(256,64);c.y+=2.;h f=X(c-d(81,30),11.);f=Q(f,c.x-80.);f=Q(f,-X(c-d(84,26),9.));f=P(f,L(c-d(73,37),d(4,9))-4.);f=Q(f,-L(c-d(73,37),d(0,7))+1.);f=P(f,L(c-d(91.5,47),d(4,19))-4.);f=Q(f,-L(c-d(91.5,47),d(0,17.5))+1.);f=P(f,L(bn(c,111.)-d(105.+j(23.,50.,c.y)*3.,43),d(3.5,19)));f=P(f,L(c-d(111,32),d(4,3)));f=P(f,L(c-d(126,37),d(3,13)));f=P(f,L(c-d(125.5+j(23.,50.,c.y)*10.,44),d(3.5,6)));f=P(f,L(c-d(136.5-j(23.,50.,c.y)*9.,32),d(3.5,8)));f=P(f,L(c-d(148.5,37),d(7,13)));f=Q(f,-L(c-d(155,33),d(6,3)));f=Q(f,-L(c-d(155,43),d(6,2)));f=P(f,L(c-d(168,37),d(3.5,13)));f=P(f,L(c-d(178.,37),d(3.5,13)));f=P(f,L(c-d(188,37),d(3.5,13)));f=Q(f,c.y-50.);l F(H(f,.8),0,0,ai(c*511.));}O _84(){k e=ak(af,R*2.).ae*step(.5,G(U.x*.5));e=o(e*a5(),k(.5,0,0),i(G(U.x*2.),1./64.,G(R.y)));K=F(e+aG(Ref)*.25+ak(af,R+ai(U.xx)).w*.1,1);}O _85(){d c=G(R);c.x+=U.x/13.;h b=D(c,d(3,7),.9,2.,4),T=c.y;K=F(2.*n(95,85,80)*T*T*T*T*o(1.,b,.5),0.);}O _86(){K=F(aG(Ref)*n(133,111,111),0);}h star(d p,d e,h s){p-=e;h a=j(.3,.5,v(G(aO(p/=s)*8.+ai(e))-.5));l j(.9,.6,pow(aX(p),.0625)-a*a*.006);}O _87(){K=F(2,2,2,0)*pow(star(R,d(.5),1.),2.);}h bZ(d c,h s){d p=c;p.y+=p.y-U.x*s;c.x+=(cm(p.y*5.)-.5)*1.5*E(c.y);h B=D(ac(p,7.,.02),d(9),.7,2.,4),S=j(.9,.03,c.y),b=L(c-d(.5,.15),d(0,.3));l E(H(b+B*E(1.2-S)-.13,.15));}O ca(h s){d c=G(R);K=(bZ(c,s*.6)+bZ(c,s))*F(2.5,1,.35,0);}O _88(){ca(2.5);}O _89(){ca(1.);}O _0(){h A=dot(Nor,aE(k(2,0,8)));A=A*.4+.7;d c=cv(Pos,cw(Nor));k e=k(.5);e*=cx(k(G(aZ*U.w+.25),1.,1.));K=F(e*A,1);}O _6(){F e=ak(af,R);K=F(e.ae*o(a5(),k(1),e.w),1);}O _71(){F e=ak(af,R);h r=N(G(R)-.5);h s=o(.4,8.,G(U.x*1.5));K=F(e.ae*a5()+n(240,130,5)*i(.1,.05,r/s)*j(.37,.32,r),1);}O _5(){k e=ak(af,R).ae;K=F(e*a5(),1);}O _7(){F e=ak(af,R);e.ae*=1.+e.w*aG(Ref);K=F(e.ae*a5(),1);}O _74(){K=F(0);}O _75(){k f=aE(Pos-Cam.ae);f.z=f.z*4.+2.;d c=aE(f).xy*2.;h b=j(.2,1.,D(c-U.x*d(.1,.2),d(5),.5,2.,6));c.y*=1.5;h s=j(.3,1.,D(c-U.x*d(.1,.18),d(5),.6,2.,6));K=F(k(b,0,0)+n(80,30,8)*s*s*2.,1);}O _76(){d c=ac(R/8.,U.x*.5,2.,.05);h b=D(c,d(7),.9,2.,4);k e=n(91,22,14)*(.2+1.6*b);e=o(e,n(144,44,0),i(.6,.2,D(c,d(3),.7,3.,4)));e=o(e,n(244,144,66)*b*2.,E(i(.55,.25,D(c,d(11),.5,2.,4))));K=F(e*Y(aJ(a5())),1);}O _77(){_76();}O _3(){K=ak(af,(.5+R*127.)/128.,2.5);K.ae*=.7+.3*W(R,.5/fwidth(R));}O _4(){K=ak(af,R)*Clr;}al(_90){c.y*=2.;h b=D(c,d(5),.9,2.,4),M=.5+b,t=.8+b*.4,f=c.y-1.05;k e=n(55,44,37)*t;d p=c;f=b1(f,L((c-d(.5,1.5))*ah(45.),d(.2))-.1,.3);f=Q(f,.03-p.y);e=o(e,aL(e,c-d(.5,1.5),.1),8.*b);p.x=P(p.x,1.-p.x);V(p.y>.5)p.y-=.5;e=o(e,aL(e,p-d(.22,.31),.04),2.*t);e*=1.+E(j(.5,1.,b))+b2(f).y*i(.0,.05,f)*(1.+11.*j(1.5,2.,c.y))*b+M*i(.93,.05,c.y)+M*i(.4,.05,c.y)+M*i(.1,.05,c.y)-.5*i(.97,.05,c.y)-.5*E(i(.7,.05,c.y))-.5*E(i(.2,.05,c.y))-.5*i(.66,.1,c.y)-.5*i(.45,.03,c.y)-.5*i(.15,.1,c.y)-i(.01,.03,c.y);l F(e,H(f,.03));}O _91(){K=ak(af,R);V(K.w<0.5)discard;K*=Clr*1.5+.3;}O _92(){d c=d(aO(Pos.xy),j(8.,128.,Pos.z));c.x=G(c.x*3.-U.x*2.2);c.y*=4.;h T=star(c,d(0,.3),1.)+star(c,d(1,.3),1.)+star(c,d(.5,.4),1.5);T*=T;K=F(T,T,T,0);}al(_93){h b=D(ac(c,5.,.03),d(7),.5,3.,2);l(b*1.4+.3)*F(1.2,.54,.06,0)+.5*i(.7,.2,b)*F(1,1,1,0);}O _94(){k p=Pos;p-=U.x*6.4*sign(p.z-72.);K=aW(p,8.);}I(_95){c=ac(c,5.,.02);h b=D(c,d(6),.8,2.,4),C=D(c,d(2),.6,2.,4),t=.8+.3*b*b;k e=o(n(36,33,30),n(168,177,168),.3+.7*C)*t;l e;}O _101(){d c=bm(R-.5,4.);K=F(1,1,0,1)*H(P(bc(N(c)-.4,.04),L(c,d(.25,.06))),.01);}O _102(){K=F(.4,.7,.3,1)*H(dot(v(R-.5),d(4,3)/5.)-.2,.01);}O _103(){d c=R-.5;c.x=v(c.x);h w=.15*a0(j(-.32,-.29,c.y))+.05*j(-.3,-.1,c.y)+.12*a0(j(-.1,.1,c.y))+.12*step(.1,c.y)-.12*E(j(.1,.31,c.y)),f=av(L(c,d(w,.3)),aP(c-d(0,.33),d(.2,.05))/300.);K=F(1,1,0,1)*H(f-.01,.01);}O _104(){d c=R;h f=L(c-d(.35,.5),d(.1,.4));c.y=mod(c.y-.06,.28)-.16;f=P(f,L(c-d(.51,0),d(.34,.04*j(.85,.7,c.x))));f=av(f,L(c-d(.65,0),d(.02,1)));K=F(1,1,0,1)*H(f,.01);}O _105(){d c=R;c.x=mod(c.x,.33)-.16;h f=L(c-d(0,.52),d(.1,.4));f=av(f,L(c-d(0,.65),d(.05,.23)));f=av(f,v(c.y-.2)-.02);K=F(1,.5,0,1)*H(f,.01);}O _106(){d c=(R-d(.55,.45))*ah(-45.);h f=aK(c,d(-.4,0),d(.2,0),.1);f=Q(f,-.3-c.x);c.y=v(c.y);f=P(f,L(c+d(.37,0),d(.05,.005)));f=P(f,L(c+d(c.y+.1,-.18),d(.1,.05)));K=F(1,0,0,1)*H(f,.01);}O _107(){d c=(R-.5)*ah(45.);h f=L(c,d(.6,.03)),p=c.x*12.6+1.55,S=sin(p)*.15,q=a7(G(S));f=P(f,Q(bc(c.y-S,.05-.1*q)*(1.+q+q),v(c.x)-.6));K=F(0,1,0,1)*H(f,.01);}O _108(){d c=bm(R-.5,5.);h f=N(c)-.18,r=c.x-.33,S=.04*i(.0,.3,r);c.x-=.33;c*=ah(-15.);f=P(f,L(c,d(.04,2.*S)));f=P(f,L(c-d(0,S*sign(r)),d(.14,S)));K=F(.77,0,1,1)*H(f+.01,.01);}O _109(){d c=R-.5;h f=aQ(c+d(0,.05),0.)-.01;f=P(f,L(bm(c*ah(45.),4.)-d(.45,.0),d(.11,.02)));K=F(0,.88,.95,1)*H(f,.01);}"
;

// src/demo/data/shaders/vertex_shaders.glsl: 4562 => 2229 (48.9%)
static constexpr char g_vertex_shaders[] =
"#define c void\n"
"#define f vec4\n"
"#define j gl_Position\n"
"#define l location\n"
"#define n normalize\n"
"uniform mat4 MVP,View,World;uniform f Time,Cam;layout(l=0)in f e;layout(l=1)in f k;layout(l=2)in vec3 h;layout(l=3)in f o;out vec3 Pos,Nor,WNor,Ref;out vec2 UV,LUV;out f Clr;c d(){j=e;UV=e.xy*.5+.5;}c m(float v,float A,float B){j+=A*MVP*f(h,0)*sin(6.28*(Time.x*B+dot(e.xyz/v,vec3(1))));}c _0(){j=MVP*e;Pos=e.xyz;Nor=h;UV=k.xy;LUV=k.zw;Clr=o;Ref=n(reflect((e-Cam).xyz,h));}c i(){_0();Pos=floor(h)/4.;Nor=fract(h)*4.-2.;Ref=n(reflect((e-Cam).xyz,Nor));float a=k.z,u=cos(a),s=sin(a);Nor.xy*=mat2(u,s,-s,u);}c _1(){d();}c _2(){d();}c _3(){d();}c _4(){j=f(2.*e.x-1.,1.-2.*e.y,1,1);UV=k.xy;Clr=o;}c _5(){_0();}c _6(){_0();}c _7(){_0();}c _8(){d();}c _9(){d();}c _10(){d();}c _11(){d();}c _12(){d();}c _13(){_0();}c _14(){d();}c _15(){d();}c _16(){d();}c _17(){_0();}c _18(){d();}c _19(){d();}c _20(){d();}c _21(){d();}c _22(){d();}c _23(){d();}c _24(){_0();}c _25(){d();}c _26(){d();}c _27(){d();}c _28(){d();}c _29(){_0();}c _30(){d();}c _31(){_0();}c _32(){d();}c _33(){d();}c _34(){d();}c _35(){d();}c _36(){d();}c _37(){d();}c _38(){d();}c _39(){d();}c _40(){d();}c _41(){d();}c _42(){d();}c _43(){d();}c _44(){d();}c _45(){d();}c _46(){d();}c _47(){d();}c _48(){d();}c _49(){d();}c _50(){d();}c _51(){d();}c _52(){d();}c _53(){d();}c _54(){d();}c _55(){d();}c _56(){d();}c _57(){d();}c _58(){d();}c _59(){d();}c _60(){d();}c _61(){d();}c _62(){d();}c _63(){d();}c _64(){d();}c _65(){d();}c _66(){d();}c _67(){d();}c _68(){d();}c _69(){d();}c _70(){d();}c _71(){_0();}c _72(){d();}c _73(){_0();}c _74(){_0();}c _75(){_0();}c _76(){_0();m(100.,3.,.1);}c _77(){_0();}c _78(){d();}c _79(){_0();m(30.,3.,.2);m(100.,3.,.7);}c _80(){i();}c _81(){i();}c _82(){i();}c _83(){d();}c _84(){_0();}c _85(){_0();}c _86(){i();}c _87(){_0();j+=MVP*f(Nor*mat3(View),0);}c _88(){_0();}c _89(){_0();}c _90(){d();}c _91(){_80();}c _92(){i();}c _93(){d();}c _94(){i();}c _95(){d();}c _96(){_0();WNor=n(mat3(World)*h);Ref=n(reflect((World*e-Cam).xyz,WNor));}c _97(){_96();}c _98(){_96();}c _99(){_96();j+=MVP*f(h+h,0);}c _100(){_96();}c _101(){d();}c _102(){d();}c _103(){d();}c _104(){d();}c _105(){d();}c _106(){d();}c _107(){d();}c _108(){d();}c _109(){d();}"
;
