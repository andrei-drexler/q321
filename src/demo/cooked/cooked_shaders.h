#pragma once
// auto-generated, do not modify (see cook_shader.js)

// trim_newlines       : true
// consistent_floats   : false
// rename_ids          : true
// rename_vec_fields   : true
// rename_globals      : true
// min_macro_savings   : 8

// src/demo/data/shaders/fragment_shaders.glsl: 38741 => 17583 (45.4%)
const char g_fragment_shaders[] =
"#define z vec2\n"
"#define A float\n"
"#define B vec3\n"
"#define C return\n"
"#define I mix\n"
"#define K vec4\n"
"#define L fract\n"
"#define M abs\n"
"#define Q max\n"
"#define R length\n"
"#define S min\n"
"#define U UV\n"
"#define X rgb\n"
"#define Y FCol\n"
"#define Z void\n"
"#define ae Time\n"
"#define af int\n"
"#define al Texture0\n"
"#define am texture\n"
"#define az sqrt\n"
"#define a6 floor\n"
"#define aI normalize\n"
"uniform K ae,Cam;uniform sampler2D al,Texture1;in B Pos,Nor,Ref;in z U,LUV;in K Clr;out K Y;\n"
"#define bq(x)((x)*(x)*(3.-2.*(x)))\n"
"#define O(x)(x)*(x)\n"
"#define bs(x)dot(x,x)\n"
"#define aj(x)clamp(x,0.,1.)\n"
"#define E(r,g,b)(B(r,g,b)/255.)\n"
"A a5=3.1415927,bH=2.*a5,aD=1.618034;z bt(A i){A G=1.324718;C L(.5+i/z(G,G*G));}A bu(A i){C L(.5+i*aD);}A aE(z v){C S(v.r,v.g);}A aE(B v){C S(v.r,S(v.g,v.b));}A aE(K v){C S(S(v.r,v.g),S(v.b,v.a));}A ay(z v){C Q(v.r,v.g);}A ay(B v){C Q(v.r,Q(v.g,v.b));}A ay(K v){C Q(Q(v.r,v.g),Q(v.b,v.a));}A aF(z v){C v.r+v.g;}z bw(z v){A l=dot(v,v);C l>0.?v/az(l):v;}A F(A by,A bz,A x){C 1.-aj(M(x-by)/bz);}A D(A aQ,A b0,A x){C aj((x-aQ)/(b0-aQ));}z aa(A x){C z(sin(x),cos(x));}mat2 aK(A x){z v=aa(radians(x));C mat2(v.g,v.r,-v.r,v.g);}z ak(z j,A p,A s){C j+sin(j.gr*a5*p)*s;}z ak(z j,A t,A p,A s){C j+sin(j.gr*a5*p+t)*s;}A aL(A v,A m){C m-M(v-m);}z aL(z v,A m){v.r=aL(v.r,m);C v;}z b1(z j,z s){j.r+=a6(j.g*s.g)*(.5/s.r);C L(j)*s;}B a7(z j,A r){C B(j-=clamp(j,r,1.-r),R(j)/r);}B a7(z j,z s,A r){s=s.gr/aE(s);j*=s;C B(j-=clamp(j,z(r),s-r),R(j)/r);}A H(z p){B q=L(p.rgr*.09153);q+=dot(q,q.gbr+19.19);C L((q.r+q.g)*q.b);}A H(A p){p=L(p*.1031);p*=p+33.33;p*=p+p;C L(p);}B bI(A p){B ag=L(B(p)*B(.1031,.1030,.0973));ag+=dot(ag,ag.gbr+33.33);C L((ag.rrg+ag.gbb)*ag.bgr);}z b2(z p){B ag=L(B(p.rgr)*B(.1031,.1030,.0973));ag+=dot(ag,ag.gbr+33.33);C L((ag.rr+ag.gb)*ag.bg);}K b3(A p){K ah=L(K(p)*K(.1031,.1030,.0973,.1099));ah+=dot(ah,ah.abrg+33.33);C L((ah.rrgb+ah.gbba)*ah.bgar);}K b3(z p){K ah=L(K(p.rgrg)*K(.1031,.1030,.0973,.1099));ah+=dot(ah,ah.abrg+33.33);C L((ah.rrgb+ah.gbba)*ah.bgar);}A ac(A x,A p){C H(mod(x,p));}A N(A x){A i;C I(H(i=a6(x)),H(i+1.),bq(x-i));}A W(A x,A p){A i;C I(ac(i=a6(x),p),ac(i+1.,p),x-i);}A ac(z p,z s){C H(mod(p,s));}A W(z p,z s){p*=s;z i=a6(p);p-=i;p*=p*(3.-2.*p);A b4=ac(i+z(0,0),s);A b5=ac(i+z(0,1),s);A b6=ac(i+z(1,1),s);A b7=ac(i+z(1,0),s);C I(I(b4,b7,p.r),I(b5,b6,p.r),p.g);}A J(z p,z aq,A a8,A a9,af aM){A aA=W(p,aq),aw=1.,tw=1.;for(af i=0;i<aM;++i){p=L(p+aD);aq*=a9;aw*=a8;aA+=W(p,aq)*aw;tw+=aw;}C aA/tw;}A J(z p,z aq,A a8,A a9){C J(p,aq,a8,a9,4);}\n"
"#define a0(v)F(.5,.5,v)\n"
"A aR(z p,z aq,A a8,A a9,af aM){A aA=a0(W(p,aq)),aw=1.,tw=1.;for(af i=0;i<aM;++i){p=L(p+aD);aq*=a9;aw*=a8;aA+=a0(W(p,aq))*aw;tw+=aw;}C aA/tw;}z aG(z p,z a,z b){z ab=b-a,ap=p-a;A t=aj(dot(ap,ab)/dot(ab,ab));C ab*t+a;}A V(z p,z b){z d=M(p)-b;C S(Q(d.r,d.g),0.)+R(Q(d,0.));}A aB(z p,z b){C ay(M(p)-b);}A an(z p,A r){C R(p)-r;}A aN(z p,z r){C an(p/r,1.)/S(r.r,r.g);}A aO(A a,A b){C Q(a,-b);}A aS(A a,A b,A k){A h=aj(.5+0.5*(b-a)/k);C I(b,a,h)-k*h*(1.-h);}z aT(A x){z d=z(dFdx(x),dFdy(x));C d/Q(R(d),1e-8);}A T(A s,A d){C aj(1.-s/d);}A T(A s){C aj(1.-s/fwidth(s));}\n"
"#define aP(b8,j,b9){z p[3];A r[3];p[0]=j;p[1]=j+dFdx(j);p[2]=j+dFdy(j);for(af i=0;i<3;++i)r[i]=b9;b8=B(bw(z(r[1],r[2])-r[0]),r[0]);}\n"
"K aU(z j,A s){C K(j/=s,az(aj(1.-bs(j))),R(j)-1.);}A bA(B n){A l=aF(n.gb)*.7;C pow(aj(l),4.)+l;}A aV(z j,A s){j/=s;j.g+=.06;j.r*=2.;C D(.3,.0,R(j));}B aH(B c,z j,A s){K b=aU(j,s);c*=1.+bA(b.X)*T(b.a)*.5;c*=1.-O(aV(j,20.*s))*(1.-T(b.a))*.3;C c;}B aW(z p,A aa,A bB){B e=B(-1,0,1),r=B(1e5);z ai=a6(p*aa),bJ=e.gg;p-=(ai+.5)/aa;A ad=.5*ac(ai+e.gg,z(aa));A a1=.5*ac(ai+e.rg,z(aa));A a2=.5*ac(ai+e.gb,z(aa));A a3=.5*ac(ai+e.bg,z(aa));A a4=.5*ac(ai+e.gr,z(aa));A aX=.5*ac(ai+e.rb,z(aa));A aY=.5*ac(ai+e.bb,z(aa));A aZ=.5*ac(ai+e.br,z(aa));A ba=.5*ac(ai+e.rr,z(aa));z[4]ao,l;if(mod((ai.r+ai.g),2.)<.5){l[0]=1.+z(a2-a1,aX-ad);l[1]=1.+z(-a2+a3,aY-ad);l[2]=1.+z(-a4+a3,-aZ+ad);l[3]=1.+z(a4-a1,-ba+ad);ao[0]=z(a2,ad)+l[0]*z(-.5,.5);ao[1]=z(a2,ad)+l[1]*z(.5,.5);ao[2]=z(a4,ad)+l[2]*z(.5,-.5);ao[3]=z(a4,ad)+l[3]*z(-.5,-.5);}else{l[0]=1.+z(-aX+ad,a2-a1);l[1]=1.+z(aY-ad,a2-a3);l[2]=1.+z(aZ-ad,-a4+a3);l[3]=1.+z(-ba+ad,-a4+a1);ao[0]=z(ad,a1)+l[0]*z(-.5,.5);ao[1]=z(ad,a3)+l[1]*z(.5,.5);ao[2]=z(ad,a3)+l[2]*z(.5,-.5);ao[3]=z(ad,a1)+l[3]*z(-.5,-.5);}for(af i=0;i<4;i++){l[i]/=aa;A bx=aB(p-ao[i]/aa,l[i]/2.-bB/aa);if(bx<r.r)r=B(bx,ai+ao[i]);}C r;}z bc(z p,z bd){p*=bd;z n=a6(p),f=p-n,be,g,o,r;A bf=8.0,d;for(af i=0;i<9;++i){g=z(i%3-1,i/3-1);o=b2(mod(n+g,bd));r=g+o-f;d=aF(M(r));if(d<bf){bf=d;be=r;}}C be;}A bh(B p){p=aI(p);B a=mod(degrees(atan(p,p.gbr)),360.);C W(a.r/8.,45.)*D(.9,.0,M(p.b))+W(a.g/8.,45.)*D(.7,.0,M(p.r));}z bi(B p,af ax){C(ax==0)?p.gb:(ax==1)?p.rb:p.rg;}af bj(B n){n=M(n)+B(.01,.02,.03);A m=ay(n);C(m==n.r)?0:(m==n.g)?1:2;}B bC(B c){B X=aj(M(mod(c.r*6.+B(0,4,2),6.)-3.)-1.);X*=X*(3.-2.*X);C c.b*I(B(1.),X,c.g);}B ar(){B d=Cam.X-Pos;A b=J(d.rg/256.*aK(Cam.a),z(3),.7,3.,4),l=1.-D(14.,-6.,R(d.rg)-b*8.)*D(128.,48.,d.b)*step(.1,Nor.b);C am(Texture1,LUV).X*3.*l;}\n"
"#define P(as)B as(z);Z as(){Y=K(as(U),1);}B as(z j)\n"
"#define at(as)K as(z);Z as(){Y=as(U);}K as(z j)\n"
"P(cmet52){A b=J(j,z(5),.9,3.,4);B c=I(E(48,41,33),E(103,101,104),b);C c;}P(ptrshn){A b=J(j,z(3),.9,3.,4);B c=I(E(49,45,43),E(81,75,78),b*b);C c;}P(dmnd2c){A b=J(j,z(7),.9,3.);j.r*=-1.5;j.g+=j.r*.5;j.r=1.-j.r+j.g;j=L(j*28.);A f=aj(1.-R(.1-j));f*=D(.6,.2,R(.6-j));f*=D(.6,.8,R(.1-j));f*=D(.2,.6,b)*2.+1.;A l=1.-D(.2,b+2.,ay(M(j-.5)));C B((f+1.)*I(.21,.29,b*b)*l);}P(dmnd2cow){A b=J(j,z(7),.9,3.);B c=dmnd2c(j);A r=R(j-.5);c=I(c,c*E(70,61,53),D(.5,.2,r+b*b*b));C c;}A bk(z j,A s){A d=1e6,i=0.;for(;i<5.;++i){z p=z(0,-s)*aK(i*72.);d=S(d,R(j-aG(j,p,p*aK(144.))));}C d;}at(dmnd2pnt){B c=dmnd2cow(j);j=L(j)-.5;A b=J(j,z(3),.9,3.),d=S(M(R(j)-.4),bk(j,.35));C K(c,T(d-.02+b*.02,.01));}Z dmnd2pnt_m(){K c=am(al,U);Y=K(c.X*ar()+E(111,55,0)*c.a*(sin(ae.r*a5)*.5+.5),1);}P(dmnd2cjp){A b=J(j,z(7),.9,3.,4);B c=dmnd2c(j);A r=R(j-.5);A m=D(.46,.45,r);A l=1.5-1.5*D(.0,.3,r*r);l=I(l,2.5,F(.42,.07,r));l=I(l,3.5,F(.44,.05,r));l=I(l,2.6,F(.36,.03,r));A n=.3+.2*D(.35,.30,r);l*=1.-n*D(.3,.7,b);l*=1.-.3*O(D(.13,.05,r));l=I(l,2.5,D(.04,.01,r));l-=l*F(.03,.01,r)*.7;c=I(c,E(68,66,54)*l,m);c*=1.-O(F(.34,.02,r));c*=1.-O(F(.46,.03,r));c*=1.-F(.41,.03,r)*.7;C c;}z bD(z j,A s){C z(1.-R(j)/s,T(R(j)-s));}at(lpdmnd){A b=J(j,z(5),.9,3.),t,o,k,r;B c=dmnd2c(j);z u,v;u.r=M(j.r-.5);u.g=S(j.g,.4);r=R(u-z(0,.4))-(.18-.06*D(.4,1.,j.g));k=.25-.15*D(.9,.96,j.g)+.03*O(D(.82,.86,j.g))+.07*D(.8,.2,j.g)+.07*O(D(.35,.22,j.g))-.07*D(.22,.0,j.g);o=V(j-z(.5,.5),z(k,.46));o=Q(o,-V(u,z(.15,.03))+.06);c=I(c,B(.6,.55,.55)-j.g*.3+b*.2,T(o));c*=1.-.7*F(.0,.013,o);c*=1.-(r/.5-.1)*T(o);t=Q(r,j.g-.96);o=M(t-.02)-.03;o=Q(o,j.g-1.+u.r*.5);o=Q(o,j.g-.96);c=I(c,B(1,1,.9)-j.g*.55,F(-.01,.01,o));c=I(c,B(.2*b+.1),T(t,.01));c*=1.-.2*F(.0,.05,t)*T(o);v=bD(u=j-z(.5,.4),.02);c*=1.+E(111,80,70)*F(.03,.01,R(u));c*=1.-.5*F(.02,.01,R(u));c=I(c,E(111,66,44)*(v.r*1.5+.2),v.g);C K(c,T(t-.03,.02));}Z lpdmnd_m(){K c=am(al,U);z j=L(U);j.r=M(.5-j.r);A t=L(-ae.r),r=R(j-z(0,.4)),l=t*pow(Q(0.,1.-r),4.)*c.a;if(t>.75)l+=D(.03,.01,M(L(j.g+j.r*.5+t*2.)-.45))*D(.1,.08,j.r);Y=K(c.X*ar()+E(180,150,5)*l,1);}P(mtlfw10){A b=J(j,z(5),.9,3.,4);B c=I(E(44,14,16),E(93,63,63),b*b);C c;}B bl(z j){A e=3e-3,a=0.;z g=z(6),r=bc(j,g);for(af i=0;i<9;++i)a+=aF(M(bc(z(i%3-1,i/3-1)*e+j,g)-r));C B(j+r.rg/g,a);}P(mtlfw15){A b=J(j,z(3),.9,3.,4);B c=I(E(80,70,72),E(128,120,120),b*b);B v=bl(j);c*=I(.95,1.1,W(v.rg,z(6)));c=I(c,E(168,128,120),D(.5,1.,v.b)*b*.7);C c;}at(mtlfw15ow){A b=J(j,z(3),.9,3.,4);B c=I(E(80,70,72),E(128,120,120),b*b);B v=bl(j);A m=D(.5,1.,v.b);A r=D(.4,.2,R(.5-L(v.rg)));c*=I(.95,1.1,W(v.rg,z(6)))-2.*r*b*b;c=I(c,E(168,128,120),m*b*.7);C K(c,m*r);}Z mtlfw15ow_m(){K c=am(al,U);Y=K(c.X*ar()+F(.5,.125,L(U.g*.5+ae.r*.5))*c.a*.3,1);}P(mtlfb3){A b=J(j,z(5),.9,3.,4);B pt=aW(j,8.,.31);B c=I(E(66,58,55),E(118,107,105),b);A l=1.-.5*D(.034,.036,pt.r);l=I(l,1.4,F(.033,.004,pt.r));C c*l;}A bE(z j){A b=W(j,z(64)),f=0.,d=1e6;for(;f<11.;++f)d=aS(d,M(R(.5-M(j-bt(f)))-I(.36,.29,bu(f+.7)))-I(.015,.03,b),.01);C d*1e2;}B bm(z j){B s,p;for(af i=0;i<3;++i){p=B(j,0);p[i]+=1e-4;s[i]=bE(p.rg);}C B(aI(s.rg-s.b),s.b);}P(mtlt12f){A b=J(j,z(5),.9,3.,4),l;B c=I(E(51,46,43),E(165,147,143),b*b),d=bm(j);l=1.-.5*(d.g-d.r)*F(.5,3.,d.b)*D(1.,.0,d.b);C c*l*.8;}P(mtlt6f){A b=J(j,z(3),1.1,3.,4),l;B c=I(E(51,46,43),E(165,147,143),b*b),d=bm(j);l=1.-.5*(d.g-d.r)*F(.5,3.,d.b)*D(1.,.0,d.b);C c*l;}P(mtlbk03){A b=J(j,z(5),.9,3.,4),l=.18*(.7+b*b);B g;j=ak(j,13.,.007);aP(g,j,O(D(.3+b*.2,.9,J(p[i],z(23),.5,2.,4))));C B(l*(1.-g.g*g.b));}P(giron01e){A b=J(j,z(5),.9,3.,4),l=.18*(.7+b*b);B c=I(E(77,55,53),E(62,48,48),W(j,z(128,13)))*(.7+b*b),g;j=ak(j,13.,.007);aP(g,j,O(D(.6+b*.3,.95,W(p[i],z(47,23)))));c*=D(1.3,.9,g.b);C B(c*(1.+g.g*g.b));}A bn(z j,z s){j.g=Q(j.g,0.);C aN(j,s);}B bo(z j){C B(.06+.1*H(j*133.7));}B aJ(B c,B b,z j,A h,A s){A y=(j.g-h)/s,p=1.-y*y;c*=1.-F(-1.,1.,y);if(p>0.)c=b*(p*(.8+.2*F(.5,.25,L(j.r/s))))*(.7+O(F(.2,.7,y)));C c;}B bo(z j,A n){C B(n*n*.4);}P(giron01nt3){j.r*=.5;A b=J(j*z(2,1),z(3,5),.9,3.,4),n=.8+.8*b*b,t=j.g+.2*S(.5,F(.5,.375,L(j.r*4.))),bF=bn(j-z(.25,.62),z(3,2)/32.),aC=bn(j-z(.25,.55),z(3,2)/48.),r;B c=I(E(66,50,51),E(111,66,44),az(F(.31,.01,j.g))),au;z p=j,q;p.r=L(p.r*4.);if(j.g>.3)c=aH(c,z(4.*M(p.r-.5)-1.6,L(j.g*16.)-.5),.07);r=M(p.r-.5);c*=1.-.3*D(.31,.33,j.g)*(D(.035,.03,.5-r)+F(.48,.01,r)-F(.46,.02,r));c=I(c*n,bo(j,b),Q(D(.31,.3,j.g),T(aC)));c*=D(1.5,.7,j.g);if(j.g<.306)c*=1.-F(.3,.05,j.g)*T(-aC+10.,20.);c*=1.-F(.316,.004,j.g)*T(-aC);if(j.g<.1)c*=.0;q=j;q.g+=F(.1,.01,mod(q.r,.33))/2e2;c=aJ(c,2.*b*E(93,84,79),j,.185,.015);c=aJ(c,2.*b*E(138,77,48),j,.13,.025);c=aJ(c,2.*b*E(112,71,51),j,.09,.015);c=aJ(c,2.*b*E(138,77,48),q,.05,.015);p.r=M(L(j.r*6.-.5)-.5)/6.;c*=1.+.5*D(.04,.03,p.r)*F(.18,.03,p.g);r=aB(p-z(0,.12),z(.03,.01));r=aO(r,aB(p-z(0,.11),z(.01)));c*=1.-O(F(.0,.04,r));c=I(c,E(166,99,77)*2.*b*(.75+.5*O(F(.125,.01,j.g))),T(r));q=p;q.g-=.07;r=an(q,.03);c*=1.-O(F(.0,.07,r));c=I(c,E(127,83,72)*b*2.*D(.01,-.005,r),D(.005,.0,r));q.g-=.004;r=an(q,.015);c*=O(D(-.01,.01,r));q.g+=.013;r=an(q,.05);c+=E(67,38,30)*4.*az(b)*O(F(-.02,.015,r)*F(.023,.02,j.g));r=aO(bF,aC);r=aO(r,(j.g-.3)*3e2);c*=1.-.5*F(-2.,17.,aC)*D(.26,.3,j.g);au=E(67,39,17)*n;au=I(au,B(n*.2),F(0.,4.,r)*b);au*=1.-.4*pow(F(.0,3.,r),4.);au+=(au+.6)*az(b)*O(F(-6.,8.,r)*F(.66,.04,j.g))*T(r);if(j.g<.55)au=aH(au,z(24.*M(j.r-.25)-1.85,L(j.g*24.+.5)-.5),.15);c=I(c,giron01e(j),D(.85,.9,t)+step(j.g,1./256.));c*=1.+F(.88,.015,t)-O(F(.87,.03,t));C I(c,au,D(1.,.1,r));}B bG(B c,z j,af w,af h){A b=J(j,z(w,h),.5,2.,2);c*=.9-.3*D(.15,.1,M(b-.5));C I(c,E(145,140,137),F(.5,.1,b));}P(gmtlbg6){j=ak(j,9.,.005);af i=0,l[]=af[](13,43,17,47,23,59,27,63);A b=J(j,z(19),.7,2.,4);B c=E(40,50,60)*(.5+b);for(;i<8;i+=2)c=bG(c,j,l[i],l[i+1]);C c;}P(glrgbk3b){A b=J(ak(j,5.,.02),z(5),1.,3.,5),n=W(j,z(13));z p=b1(j,z(8)),q=L(p),av=p-q;B c=E(91,61,42)*(.8+.8*b*b);c=I(c,E(70,30,15)*(.8+.8*b*b),a7(q,.1).b*.3);c*=1.-O(a7(q,.01+b*.05).b)*n*b*b;c*=1.+F(.4,.3,a7(q,.01+b*.07).b)*az(b)*.3;c*=.9+.2*H(av)*(1.-a7(q,.1).b);c*=.9+.4*pow(aR(j-H(av/8.),z(5),.6,2.,4),4.);C c;}P(gblks15){A b=J(j,z(5),.9,3.,4),t=aR(ak(j,4.,.01),z(7),.5,3.,5),n=W(ak(j,4.,.05),z(9)),av,e;B pt=aW(j,4.,.1+n*t*.05),c;z d=aT(pt.r);av=H(L(pt.gb));c=E(74,65,62)*(.8+.8*b*b);c+=F(.6,.3,n)*D(.3,.9,b*t)*.2;c*=1.-F(.5,.4,n)*D(.5,.7,t)*.1;c=I(c,E(86,74,78),F(.5,.1,b)*F(.7,.3,av)*.7);c=I(c,E(105,90,70),F(.3,.1,t)*F(.3,.3,av)*.3);e=F(.015,.005+.015*n,pt.r)+F(.4,.1,n*t)*.4;c*=1.-b*D(.015,.05,pt.r)*.7;c*=1.+e*b*(d.g-.5)*.7;c*=.9+.2*av;c*=.9+.2*a0(W(j-pt.gr,z(5)));C c;}P(gtprst3){A b=J(j,z(13),.9,3.,4),n=J(j,z(7),.9,3.,4);B c=I(E(60,50,50),E(87,47,37),O(D(.7,.25,n)))*(.7+.8*b*b),g;j=ak(j,31.,.003);aP(g,j,az(D(.0,.9,W(p[i],z(93)))));c*=1.-(g.g+.4)*O(b*g.b)*g.b;C c;}P(skcpthrt){A b=J(ak(j,7.,.01),z(9),.7,2.,4);B c=E(127,70,55)*(.85+.3*b);c*=1.-.2*O(D(.2,.05,b*b));c*=1.+.3*D(.6,.9,b);c*=1.-.2*O(F(.6,.3,J(ak(j,5.,.03),z(6),.6,2.,4)));C c;}P(gskull4){A b=J(j,z(13),.9,3.,4);B c=E(60,50,46)*(.875+b*b);C c;}P(gmtlspsld){A b=J(j,z(7),.9,3.,4),n=J(j,z(5),.9,3.,4);B c=I(E(103,56,53),E(73,58,71),smoothstep(.4,.5,n))*(.75+b*b);C c;}P(gmtlsp4b){A b=J(j,z(13),.9,3.,4),n=W(ak(j,5.,.05),z(9)),d=a0(L(j.r*4.)),m=D(.1,.15,d)*D(1.,.99,j.g);B c=E(51,44,44);c=I(c,E(73,55,52),D(.2,.2,b)*n*m);c=I(c,E(69,60,66),D(.7,.1,b)*b*m);c=I(c,E(99,77,77),D(.1,.5,n)*n*m*b*b*.3);c*=.6+.3*b+.3*b*b;c*=1.+.9*O(F(.21,.02+.1*n,d+b*.05))*m*b;c*=1.-O(D(.49,.5,M(j.g-.5)));c*=1.-D(.05,.2,d)*D(.16,.1,d);c*=1.+F(.99,.007,j.g);C aH(c,z(d-.4,L(j.g*8.)-.5),.07);}B bp(z j,A s){A b=J(j,z(3,1.+s+s),.7,2.,4),d=a0(j.r),m;j.g*=2.;B c=I(E(71,60,58),E(110,88,77),D(.1,.05,d))*(.7+.6*b);c*=1.-D(.05,.0,j.r)*(1.-b*b);c*=1.+.5*F(.05,.02,j.r);z p=z(d-.35,L(j.g*s)-.5);K k=aU(p,.11);m=T(k.a);c*=1.-.7*aV(p,1.1)*(1.-m);c=I(c,(k.g>.0?E(128,105,88):E(200,111,66)*D(-.2,.7,k.b))*(.4+2.*b*pow(aj(aF(k.gb*.7)),4.))*(1.-.6*F(-.1,.4,k.g)),m);C c;}P(gspbdrbb){C bp(j,4.);}P(gkarntwr4a){C gspbdrbb(j.gr);}P(gkarntwrst){C bp(j,1.);}P(gxstrtop4){A b=J(j,z(40,5),.9,3.,4);B c=E(110,110,98)*(.8+.8*b*b);if(j.g<1./4.)c*=.5;c*=1.-.4*D(.4,.0,b)+.5*D(.02,.0,j.g)+.2*F(.24,.01,j.g);C c;}P(gwdclg1a){z p=j,q;p.g*=22.;q=L(p);A b=J(j,z(3,23),1.,2.,6),n=J(j,z(3,33),.7,3.,4),av=H(p.g-q.g);B c=E(92,67,53)*(.8+.8*b*b);c*=1.-O(D(.1,.0,S(q.g,1.-q.g)))*b;c*=1.-.2*smoothstep(.3,.7,n);c*=.8+.3*b*av;C c;}P(gwdclg1bd){A b=J(j,z(13),.9,3.,4),x=j.r*16./3.;B c=gwdclg1a(j)*D(.15,.21,j.r);if(x<1.)c=E(59,48,49)*(.7+.6*b);c*=1.+.5*F(.05,.05,a0(x));C aH(c,z(M(j.r-3./32.)-.07,mod(j.g,.1)-.05),.004);}P(cable){A b=J(j,z(5),.9,3.,4),h=L(j.g*10.);B c=I(E(53,48,42),E(38,38,36),b);c*=.6+b*.8;c*=1.-.5*O(F(.5,.5,h));c*=1.+.5*O(F(.25,.25,h));c*=1.+.5*O(F(.65,.35,h));C c;}P(bmtsprt){A b=J(j,z(7,3),.9,3.,4),h=j.g+b*.04,l=1.-.15;B c=I(E(59,48,40),E(110,108,102),b*b);l=I(l,.5,F(.34,.05,j.g));l=I(l,.5,D(.08,.05,M(j.g-.7)));l=I(l,.3,F(.7,.03,j.g));l=I(l,1.5,F(.01,.03,j.g));l=I(l,2.2,F(.89,.1,h));l=I(l,1.6,D(.07,.04,M(j.g-.44)));l=I(l,2.5,F(.5,.04,h));l=I(l,1.7,F(.18,.04,h));C c*l;}P(brdr11b){A b=J(j,z(5,3),.9,3.,4);B c=I(E(74,66,55),E(99,90,78),b*b);j.r*=2.;z p=aG(j,z(.5,.625),z(1.5,.625));A d=R(p-j),m=D(.22,.20,d),l=1.-.15*m;l=I(l,.5,D(.7,.9,j.g)*m);l=I(l,1.-aT(d).g*.5,F(.22,.04,d));l=I(l,.6,O(F(.19,.05,d)));l=I(l,.5,D(.05,0.,j.g));l=I(l,.5,F(.26,.05,j.g));l=I(l,1.7,D(.93,1.,j.g));l=I(l,1.7,F(.23,.04,j.g));C c*l;}at(blt414k){A b=J(j,z(1,5),.4,3.,4);B c=I(E(56,49,43),E(142,136,136),b);j=.5-M(j-.5);j.g*=4.;A a=F(.0,.1,R(j-aG(j,z(.41,.5),z(.42,3.5)))),d=aE(j),l=1.-.7*Q(0.,1.-d/.15);l*=1.-.8*D(.24,.31,S(d,j.g-.1));c+=E(80,80,20)*a;C K(c*I(l,2.7,a),a);}at(light5){A b=J(j,z(1,5),.4,3.,4);B c=I(E(56,49,43),E(142,136,136),b);j=.5-M(j-.5);j.g*=8.;A d=R(j-aG(j,z(.27,.3),z(.27,7.7))),a=F(.0,.17,d),l=1.-.5*F(.17,.07,d);c+=E(80,80,20)*a;C K(c*I(l,2.7,a),a);}at(lt2){z p=M(j-.5);A b=J(j,z(1),.4,3.,4),r=R(p),a=D(.37,.33,r)*(.5+2.*b),l=1.+.0*D(.08,.03,M(r-.41));B c=I(E(56,49,43),E(142,136,136),b);l=I(l,7.,D(.44,.1*b,r));l*=1.-.5*O(F(.46,.04,r));l*=1.-.4*O(F(.36,.04,r));C K(c*l,a);}at(gpntgmlt1k){A b=J(j,z(5),.9,3.,4),d=aS(bk(j-=.5,.35),M(an(j,.4)),.02),a=pow(T(d-.02,.15),8.),o=S(Q(V(j,z(.46)),-an(j,.51)),M(an(j,.44)));B c=E(76,62,47)*(.8+.8*b*b);c*=1.+(b+.5)*T(M(o)-.01,.01);c*=1.-D(.1,.05,d)*T(an(j,.4));C K(c+1.*B(1,1,.3)*a,a);}at(icon){j.g-=.57;j.r=M(j.r-.48);A d=aN(j,z(.31,.12))/50.;d=Q(d,-aN(j-z(0,.01),z(.28,.07))/120.);d=Q(d,-V(j-z(.0,.1),z(.22,.12)));d=Q(d,-V(j-z(.0,.1),z(.09,.31)));d=S(d,aB(j-z(.0,-.09),z(F(-.09,.32,j.g)*.04,.32)));d=S(d,aB(j-z(.11,-.21),z(F(-.07,.3,j.g)*.03,.15)));j.g+=.07;A b=R(j)-.47,m=T(b);B c=1.-B(.7,1,1)*T(Q(.007-d,b+.04));C K(c*m,m);}at(q3bnr){j*=z(256,64);j.g+=2.;A d=an(j-z(81,30),11.);d=Q(d,j.r-80.);d=Q(d,-an(j-z(84,26),9.));d=S(d,V(j-z(73,37),z(4,9))-4.);d=Q(d,-V(j-z(73,37),z(0,7))+1.);d=S(d,V(j-z(91.5,47),z(4,19))-4.);d=Q(d,-V(j-z(91.5,47),z(0,17.5))+1.);d=S(d,V(aL(j,111.)-z(105.+D(23.,50.,j.g)*3.,43),z(3.5,19)));d=S(d,V(j-z(111,32),z(4,3)));d=S(d,V(j-z(126,37),z(3,13)));d=S(d,V(j-z(125.5+D(23.,50.,j.g)*10.,44),z(3.5,6)));d=S(d,V(j-z(136.5-D(23.,50.,j.g)*9.,32),z(3.5,8)));d=S(d,V(j-z(148.5,37),z(7,13)));d=Q(d,-V(j-z(155,33),z(6,3)));d=Q(d,-V(j-z(155,43),z(6,2)));d=S(d,V(j-z(168,37),z(3.5,13)));d=S(d,V(j-z(178.,37),z(3.5,13)));d=S(d,V(j-z(188,37),z(3.5,13)));d=Q(d,j.g-50.);C K(T(d,.8),0,0,H(j*511.));}Z q3bnr_m(){B c=am(al,U*2.).X*step(.5,L(ae.r*.5));c=I(c*ar(),B(.5,0,0),F(L(ae.r*2.),1./64.,L(U.g)));Y=K(c+bh(Ref)*.25+am(al,U+H(ae.rr)).a*.1,1);}Z beam(){z j=L(bi(Pos.X,bj(Nor))/128.);j.r+=ae.r/33.;A b=J(j,z(7),.9,2.),f=L(Pos.b/128.-.375);Y=K(2.*E(95,85,80)*f*f*f*f*I(1.,b,.5),0.);}Z flame(){z j=L(U),p=j;p.g+=p.g-ae.r;j.r+=sin(p.g*7.)*.2*j.g;A n=J(p+sin(p.gr*a5*9.+z(0,ae.r*9.))*.015+W(p,z(5))*.1,z(13),.4,3.,4),b=V(j-z(.5,.25),z(.05*O(D(.4,.2,j.g)),.1)),m=O(T(b+n*.25,.35));Y=D(.0,.4,m)*K(7,.5,.2,0);}Z Generic(){A l=dot(Nor,aI(B(2,0,8)));l=l*.4+.7;z j=bi(Pos,bj(Nor));B c=B(.5);c*=bC(B(L(aD*ae.a+.25),1.,1.));Y=K(c*l,1);}Z fixture(){K c=am(al,U);Y=K(c.X*I(ar(),B(1),c.a),1);}Z dmnd2cjp_m(){K c=am(al,U);A r=R(L(U)-.5);A s=I(.4,8.,L(ae.r*1.5));Y=K(c.X*ar()+E(240,130,5)*F(.1,.05,r/s)*D(.37,.32,r),1);}Z Lmapped(){B c=am(al,U).X;Y=K(c*ar(),1);}Z shiny(){K c=am(al,U);c.X*=1.+c.a*bh(Ref);Y=K(c.X*ar(),1);}Z timhel(){B d=aI(Pos-Cam.X);d.b=d.b*4.+2.;z j=aI(d).rg*2.;A b=D(.2,1.,J(j-ae.r*z(.1,.2),z(5),.5,2.,6));j.g*=1.5;A s=D(.3,1.,J(j-ae.r*z(.1,.18),z(5),.6,2.,6));Y=K(B(b,0,0)+E(80,30,8)*s*s*2.,1);}Z lava(){z j=ak(U/8.,ae.r*.5,2.,.05);A b=J(j,z(7),.9,2.,4);B c=E(91,22,14)*(.2+1.6*b);c=I(c,E(144,44,0),F(.6,.2,J(j,z(3),.7,3.,4)));c=I(c,E(244,144,66)*b*2.,O(F(.55,.25,J(j,z(11),.5,2.,4))));Y=K(c*aj(ay(ar())),1);}Z lavaf(){lava();}Z Loading(){Y=am(al,(.5+U*127.)/128.,2.5);Y.X*=.7+.3*W(U,.5/fwidth(U));}Z UI(){Y=am(al,U)*Clr;}";

// src/demo/data/shaders/vertex_shaders.glsl: 2289 => 1439 (62.9%)
const char g_vertex_shaders[] =
"#define c void\n"
"#define e location\n"
"#define f gl_Position\n"
"uniform mat4 MVP;uniform vec4 Time,Cam;layout(e=0)in vec4 P;layout(e=1)in vec4 T;layout(e=2)in vec3 N;layout(e=3)in vec4 C;out vec3 Pos,Nor,Ref;out vec2 UV,LUV;out vec4 Clr;c Generic(){f=MVP*P;Pos=P.rgb;Nor=N;UV=T.rg;LUV=T.ba;Ref=normalize(reflect((P-Cam).rgb,N));}c d(){f=P;UV=P.rg*.5+.5;}c UI(){f=vec4(2.*P.r-1.,1.-2.*P.g,1,1);UV=T.rg;Clr=C;}c cmet52(){d();}c dmnd2c(){d();}c dmnd2cow(){d();}c dmnd2cjp(){d();}c dmnd2pnt(){d();}c lpdmnd(){d();}c ptrshn(){d();}c mtlfw10(){d();}c mtlfw15(){d();}c mtlfw15ow(){d();}c mtlfb3(){d();}c mtlt12f(){d();}c mtlt6f(){d();}c mtlbk03(){d();}c gmtlbg6(){d();}c glrgbk3b(){d();}c gblks15(){d();}c gtprst3(){d();}c skcpthrt(){d();}c gskull4(){d();}c gmtlspsld(){d();}c gmtlsp4b(){d();}c gspbdrbb(){d();}c gkarntwr4a(){d();}c gkarntwrst(){d();}c giron01e(){d();}c giron01nt3(){d();}c gxstrtop4(){d();}c gwdclg1a(){d();}c gwdclg1bd(){d();}c bmtsprt(){d();}c cable(){d();}c brdr11b(){d();}c blt414k(){d();}c light5(){d();}c lt2(){d();}c gpntgmlt1k(){d();}c icon(){d();}c q3bnr(){d();}c Loading(){d();}c Lmapped(){Generic();}c mtlfw15ow_m(){Generic();}c dmnd2cjp_m(){Generic();}c dmnd2pnt_m(){Generic();}c lpdmnd_m(){Generic();}c fixture(){Generic();}c beam(){Generic();}c flame(){Generic();}c q3bnr_m(){Generic();}c shiny(){Generic();}c timhel(){Generic();}c lavaf(){Generic();}c lava(){Generic();f+=MVP[2]*sin(Time.r*.5+dot(P.rgb/1e2,vec3(1)))*4.;}";
